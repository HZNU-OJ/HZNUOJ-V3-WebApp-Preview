(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"2ekl":function(t,e,s){"use strict";s("q1tI");var a=s("mn2G"),n=s.n(a),i=s("nKUr"),r=t=>Object(i["jsx"])("div",{className:n.a.divider});e["a"]=r},"31oL":function(t,e,s){t.exports={loading:"loading___1zo1d",contestTitle:"contestTitle___29u1O",contestHeader:"contestHeader___3m_8G",left:"left___3lwSt"}},"3cjA":function(t,e,s){t.exports={tooltip:"tooltip___3s5z6",in:"in___3xquS","bs-tether-element-attached-bottom":"bs-tether-element-attached-bottom___3cSKl","tooltip-top":"tooltip-top___17hG1","tooltip-inner":"tooltip-inner___2gP_D","bs-tether-element-attached-left":"bs-tether-element-attached-left___R9NxI","tooltip-right":"tooltip-right___OTIkk","bs-tether-element-attached-top":"bs-tether-element-attached-top___1Vqpw","tooltip-bottom":"tooltip-bottom___1Qrfs","bs-tether-element-attached-right":"bs-tether-element-attached-right___1LjKt","tooltip-left":"tooltip-left___3HdxY"}},"4bCz":function(t,e,s){t.exports={"am-progress":"am-progress___3Jdti","am-progress-bar":"am-progress-bar___3daD_","am-progress-striped":"am-progress-striped___4_lJe","am-active":"am-active___sc6hh","progress-bar-stripes":"progress-bar-stripes___Xg0n5","am-progress-bar-secondary":"am-progress-bar-secondary___2iBlq","am-progress-bar-success":"am-progress-bar-success___-gjzH","am-progress-bar-warning":"am-progress-bar-warning___2qsRY","am-progress-bar-danger":"am-progress-bar-danger___hkyRp","am-progress-xs":"am-progress-xs___2YZh5","am-progress-sm":"am-progress-sm___3qhgB","am-progress-cursor":"am-progress-cursor___3JAAB",label:"label___2trU4",PENDING:"PENDING___1lmDO",RUNNING:"RUNNING___2RLBg",FROZEN:"FROZEN___3olVf",FINISHED:"FINISHED___2gqt1"}},Ecwe:function(t,e,s){"use strict";var a=s("WmNS"),n=s.n(a),i=s("9og8"),r=s("tJVT"),o=(s("aHsQ"),s("sGsY")),c=s("9kvl"),l=s("7AqN"),m=s("q1tI"),d=s.n(m),h=s("b2pr"),p=s("Qb08"),_=s("tbxT"),u=s.n(_),b=s("2ekl"),j=s("31oL"),g=s.n(j),f=s("4bCz"),v=s.n(f),x=s("M0Ek"),O=500,y=["am-progress-bar-secondary","am-progress-bar-success","am-progress-bar-danger","am-progress-bar-primary"],w=["am-active","am-active","am-active","am-active"],N=["PENDING","RUNNING","FROZEN","FINISHED"];function I(t,e,s){var a=Object(x["a"])();return a<t?0:a>=e?3:a>=e-s?2:1}function k(t,e){var s=Object(x["a"])();return s<t?0:s>=e?100:Math.round((s-t)/(e-t)*100)}function S(t,e){return Object(x["c"])(Math.max(0,Math.min(Object(x["a"])(),e)-t))}function T(t,e){return Object(x["c"])(Math.max(0,e-Math.max(t,Object(x["a"])())))}function M(t){return Object(x["c"])(Math.max(0,t-Object(x["a"])()))}function z(t,e,s){var a=e-t;return Object(x["c"])(Math.min(Math.floor(Math.min(a*s)),Math.max(0,Math.min(Object(x["a"])(),e)-t)))}function E(t,e,s){var a=e-t;return t+Math.min(Math.floor(Math.min(a*s)),Math.max(0,Math.min(Object(x["a"])(),e)-t))}var H=s("3cjA"),R=s.n(H),B=s("nKUr");class U extends d.a.Component{update(t){var e=document.getElementById("am-progress-bar"),s=document.getElementById("am-progress-tooltip"),a=document.getElementById("am-progress-tooltip-inner");this.setState({start_time:t.start_time,end_time:t.end_time,frozen_time:t.frozen_time,search:t.search,history:t.history});var n=()=>{var n=k(t.start_time,t.end_time);this.setState({status:I(t.start_time,t.end_time,t.frozen_time),width:n}),this.pauseUpdate||(e.style.left=[n,"%"].join(""),s.style.left=[n,"%"].join(""),a.innerHTML=S(t.start_time,t.end_time))};n(),this.timer&&clearInterval(this.timer),this.timer=setInterval((()=>{n()}),800)}componentDidMount(){this.update(this.props),(()=>{var t=document.getElementById("am-progress-scroll"),e=document.getElementById("am-progress-mask"),s=document.getElementById("am-progress-bar"),a=document.getElementById("am-progress-tooltip"),n=document.getElementById("am-progress-tooltip-inner"),i=0,r=this;t.onmouseenter=function(t){a.classList.add(R.a["in"])},t.onmouseleave=function(t){a.classList.remove(R.a["in"])},s.onmousedown=function(o){o=o||window.event;var c=o.clientX-this.offsetLeft,l=this;document.onmousemove=function(o){var m;r.pauseUpdate=!0,a.classList.add(R.a["in"]),o=o||window.event,i=o.clientX-c,i<0?i=0:i>t.offsetWidth-s.offsetWidth&&(i=t.offsetWidth-s.offsetWidth);var d=parseInt(t.offsetWidth)*parseInt(null===(m=e.style)||void 0===m?void 0:m.width)*.01;i>=d&&(i=d,r.pauseUpdate=!1),l.style.left=i+"px",a.style.left=i+"px";var h=0==i?0:(i+s.offsetWidth)/parseInt(t.offsetWidth);r.timeFlag=E(r.state.start_time,r.state.end_time,h),n.innerHTML=z(r.state.start_time,r.state.end_time,h),window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()}},document.onmouseup=function(){document.onmousemove=null,a.classList.remove(R.a["in"]);var t=Object(x["b"])("timeflag",r.timeFlag.toString(),r.state.search);r.pauseUpdate||delete t.timeflag;var e=window.location.pathname;r.state.history.push({pathname:e,query:t})}})()}componentWillReceiveProps(t){this.update(t)}componentWillUnmount(){this.timer&&clearInterval(this.timer)}constructor(t){super(t),this.timer=null,this.pauseUpdate=!1,this.timeFlag=0,this.init=!1,this.state={start_time:0,end_time:0,frozen_time:0,status:0,width:0,scroll_width:0,search:null}}render(){return Object(B["jsx"])(B["Fragment"],{children:Object(B["jsx"])("div",{className:[v.a["am-progress"],v.a["am-progress-striped"],v.a[w[this.state.status]]].join(" "),style:{height:16,marginBottom:0,position:"relative"},id:"am-progress-scroll",children:Object(B["jsxs"])("div",{className:[v.a["am-progress-bar"],v.a[y[this.state.status]]].join(" "),style:{width:[this.state.width,"%"].join("")},id:"am-progress-mask",children:[Object(B["jsx"])("div",{className:[R.a["tooltip"],R.a["tooltip-top"]].join(" "),style:{marginLeft:-34,bottom:22,left:0},id:"am-progress-tooltip",children:Object(B["jsx"])("div",{className:[R.a["tooltip-inner"]].join(" "),id:"am-progress-tooltip-inner",children:"00:00:00"})}),Object(B["jsx"])("div",{className:[v.a["am-progress-bar"],v.a[y[this.state.status]],v.a["am-progress-cursor"]].join(" "),style:{left:0},id:"am-progress-bar"})]})})})}}var F=U,D=s("RH92"),L=s("iVzn");class W extends d.a.Component{update(t){this.setState({head_item:t.head_item,start_time:t.start_time,end_time:t.end_time,frozen_time:t.frozen_time,search:t.search,history:t.history});var e=()=>{this.setState({status:I(t.start_time,t.end_time,t.frozen_time),time_elapsed:S(t.start_time,t.end_time),time_remaining:T(t.start_time,t.end_time),time_pending:M(t.start_time)})};e(),this.timer&&clearInterval(this.timer),this.timer=setInterval((()=>{e()}),O)}componentDidMount(){var t=this;return Object(i["a"])(n.a.mark((function e(){return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.update(t.props);case 1:case"end":return e.stop()}}),e)})))()}componentWillReceiveProps(t){var e=this;return Object(i["a"])(n.a.mark((function s(){return n.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:e.update(t);case 1:case"end":return s.stop()}}),s)})))()}componentWillUnmount(){this.timer&&clearInterval(this.timer)}constructor(t){super(t),this.timer=null,this.state={head_item:null,start_time:0,end_time:0,frozen_time:0,status:0,time_elapsed:0,time_remaining:0,time_pending:0,search:null,history:null}}render(){return Object(B["jsxs"])(B["Fragment"],{children:[Object(B["jsxs"])("div",{style:{marginBottom:"2px",display:"flex",fontSize:"16px"},children:[Object(B["jsx"])("div",{style:{float:"left"},children:Object(B["jsxs"])("b",{children:["Start: ",Object(B["jsx"])(D["a"],{date:this.state.start_time})," "]})}),Object(B["jsxs"])("div",{style:{flex:"1",textAlign:"center"},children:[Object(B["jsx"])("div",{className:[v.a["label"],v.a[N[this.state.status]]].join(" ")}),Object(B["jsxs"])("b",{style:{color:L["c"][this.state.status]},children:[N[this.state.status],"\xa0",0===this.state.status&&this.state.time_pending]})]}),Object(B["jsx"])("div",{style:{float:"right"},children:Object(B["jsxs"])("b",{children:["End: ",Object(B["jsx"])(D["a"],{date:this.state.end_time})," "]})})]}),Object(B["jsx"])(F,{start_time:this.state.start_time,end_time:this.state.end_time,frozen_time:this.state.frozen_time,search:this.state.search,history:this.state.history}),Object(B["jsxs"])("div",{style:{marginTop:"2px",display:"flex",fontSize:"16px"},children:[Object(B["jsx"])("div",{style:{float:"left"},children:Object(B["jsxs"])("b",{children:["Elapsed: ",this.state.time_elapsed]})}),Object(B["jsx"])("div",{style:{flex:"1"},children:this.state.head_item}),Object(B["jsx"])("div",{style:{float:"right"},children:Object(B["jsxs"])("b",{children:["Remaining: ",this.state.time_remaining]})})]})]})}}var A=t=>{var e=Object(l["k"])(),s=Object(l["j"])();return Object(B["jsx"])("div",{className:g.a.contestHeader,children:Object(B["jsxs"])(B["Fragment"],{children:[Object(B["jsx"])("div",{className:g.a.contestTitle,children:t.contestName}),Object(B["jsx"])(W,{head_item:Object(B["jsx"])(B["Fragment"],{}),start_time:t.startTime,end_time:t.endTime,frozen_time:t.frozenTime,history:s,search:e.search})]})})},G=A;o["a"].Countdown;function q(t,e){var s="";return e.forEach((e=>{s+='<li class="'.concat(t===e.id?"am-active":"",'"><a href="').concat(e.link,'">').concat(e.name,"</a></li>")})),s}function J(t,e){var s="";s+='<li class="am-dropdown" data-am-dropdown>',s+="\n  <a class='am-dropdown-toggle' data-am-dropdown-toggle href='javascript:;'>\n  <span class='am-icon-user'></span>&nbsp;".concat(e,"&nbsp;<span class='am-icon-caret-down'></span>\n  </a>"),s+='<ul class="am-dropdown-content">';for(var a=0;a<t.length;++a)t[a].forEach((t=>{s+='<li><a href="'.concat(t.link,'">').concat(t.name,"</a></li>")})),a<t.length-1&&(s+='<li class="am-divider"></li>');return s+="</ul>",s+="</li>",s}function P(t,e,s,a,n,i){var r=[{id:"dashboard",name:"Dashboard",link:"/contest/".concat(s)},{id:"submissions",name:"Submissions",link:"/contest/".concat(s,"/submissions")},{id:"standings",name:"Standings",link:"/contest/".concat(s,"/standings")},{id:"clarifications",name:"Clarifications",link:"/contest/".concat(s,"/clarifications")}],o=[{id:"enter",name:"Enter",link:"/login"}],c=[[...i?[{id:"my_profile",name:"My Profile",link:"/user/".concat(a)}]:[],{id:"my_submissions",name:"My Submissions",link:"/submissions?username=".concat(null!==a&&void 0!==a?a:"")},...i?[{id:"my_discussions",name:"My Discussions",link:"/discussions?publisherId=".concat(null!==n&&void 0!==n?n:"")}]:[]],i?[{id:"polygon",name:"Polygon",link:"/polygon"},{id:"administration",name:"Administration",link:"/admin"}]:[],[...i?[{id:"settings",name:"Settings",link:"/settings"}]:[],{id:"logout",name:"Logout",link:"/logout"}]];return{__html:'\n    <header class="am-topbar-inverse am-topbar-fixed-toped" style="font-size: 16px; margin-top: 0px;">\n    <button class="am-topbar-btn am-topbar-toggle am-btn am-btn-sm am-btn-primary am-show-sm-only"\n      data-am-collapse="{target: \'#collapse-head\'}">\n      <span class="am-sr-only">\u5bfc\u822a\u5207\u6362</span>\n      <span class="am-icon-bars"></span>\n    </button>\n    <div class="am-container '.concat(u.a["h-header"],'">\n      <div class="am-collapse am-topbar-collapse" id="collapse-head">\n      <ul class="am-nav am-nav-pills am-topbar-nav">\n        <li>\n          <a class="am-icon-chevron-left" href="/contests"> Back</a>\n        </li>\n          ').concat(q(e,r),'\n        </ul>\n        <div class="am-topbar-right" style="padding-right: 0px;">\n          <ul class="am-nav am-nav-pills am-topbar-nav">\n          ').concat(a?J(c,a):q(e,o),"\n          </ul>\n        </div>\n      </div>\n    </div>\n  </header>\n    ")}}var C=t=>Object(B["jsx"])("div",{dangerouslySetInnerHTML:P("Back",t.current,t.contestId,t.username,t.id,t.isAdmin)}),K=t=>{var e,s,a,o=Object(c["d"])("@@initialState"),d=o.initialState,_=o.loading,j=Object(l["l"])(),g=Object(m["useState"])(null),f=Object(r["a"])(g,2),v=f[0],x=f[1],O=Object(m["useState"])(0),y=Object(r["a"])(O,2),w=y[0],N=y[1],k=Object(m["useState"])(!0),S=Object(r["a"])(k,2),T=S[0],M=S[1];function z(){return E.apply(this,arguments)}function E(){return E=Object(i["a"])(n.a.mark((function t(){var e;return n.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e={startTime:1617165e3,endTime:1617183e3,frozenTime:3600,contestName:"The Hangzhou Normal U Qualification Trials for ZJPSC 2021"},x(e),N(I(e.startTime,e.endTime,e.frozenTime)),M(!1);case 4:case"end":return t.stop()}}),t)}))),E.apply(this,arguments)}return Object(m["useEffect"])((()=>{z()}),[]),Object(m["useEffect"])((()=>{window.$(".am-dropdown").dropdown()})),Object(B["jsxs"])(B["Fragment"],{children:[_||T&&Object(B["jsx"])("div",{style:{height:"calc(100vh)",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(B["jsx"])(p["a"],{})}),!1===(_||T)&&Object(B["jsxs"])(B["Fragment"],{children:[Object(B["jsx"])(C,{current:t.current,contestId:parseInt(j.id),username:null===d||void 0===d||null===(e=d.userMeta)||void 0===e?void 0:e.username,id:null===d||void 0===d||null===(s=d.userMeta)||void 0===s?void 0:s.id,isAdmin:null===d||void 0===d||null===(a=d.userMeta)||void 0===a?void 0:a.isAdmin}),Object(B["jsx"])("div",{className:u.a.root,style:{maxWidth:"1560px"},children:Object(B["jsxs"])("div",{className:u.a.secondRoot,children:[Object(B["jsxs"])("div",{className:u.a.main,children:[!t.disableHeader&&Object(B["jsxs"])("div",{className:u.a.contestHeader,children:[Object(B["jsx"])(G,{startTime:v.startTime,endTime:v.endTime,frozenTime:v.frozenTime,contestName:v.contestName}),Object(B["jsx"])(b["a"],{})]}),w>=0&&Object(B["jsx"])(B["Fragment"],{children:Object(B["jsx"])("div",{className:u.a.root,style:{maxWidth:"1200px"},children:t.children})})]}),Object(B["jsx"])(h["a"],{})]})})]})]})};e["a"]=K},RH92:function(t,e,s){"use strict";s("5Dmo");var a=s("3S7+"),n=s("tJVT"),i=(s("q1tI"),s("acru")),r=s("nKUr"),o=t=>{var e=Object(i["a"])(t.date),s=Object(n["a"])(e,2),o=s[0],c=s[1];return Object(r["jsx"])(a["a"],{placement:"top",title:c,children:Object(r["jsx"])("span",{children:o})})};e["a"]=o},mn2G:function(t,e,s){t.exports={divider:"divider___Qy6d0"}},tbxT:function(t,e,s){t.exports={root:"root___2-KUl",secondRoot:"secondRoot___3jV_2",main:"main___2nAG9",contestHeader:"contestHeader___16_JS","h-header":"h-header___2USDB"}}}]);