(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[40],{"0lfv":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return i}));a("s4NR"),a("sy1d");var n=a("Sv4O"),r=e=>JSON.parse(JSON.stringify(e)),s=e=>[e,n["a"].title].join(" - ");function i(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone||""}catch(e){return""}}},"4a0S":function(e,t,a){e.exports={loading:"loading___UCNIG"}},EXKh:function(e,t,a){e.exports={loading:"loading___16Wyt",BalloonTable:"BalloonTable___3aV32",touch:"touch___2BIHm"}},"HN+3":function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),s=a("9kvl"),i=a("Ecwe"),o=a("WmNS"),c=a.n(o),l=a("9og8"),d=a("7AqN"),m=a("Qb08"),u=a("u9AC"),h=a.n(u),p=a("YjBB"),_=a("nKUr");class b extends r.a.Component{update(e){this.setState({search:e.search,history:e.history,queryName:e.queryName||"",siderItem:e.siderItem||[],currentItem:e.currentItem||""})}componentDidMount(){this.update(this.props)}componentWillReceiveProps(e){var t=this;return Object(l["a"])(c.a.mark((function a(){return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.update(e);case 1:case"end":return a.stop()}}),a)})))()}constructor(e){super(e),this.state={search:null,history:{},queryName:"",siderItem:[],currentItem:""},this.changeTab=(e,t)=>{var a=Object(p["f"])(t.state.queryName,e,t.props.search),n=window.location.pathname;t.state.history.push({pathname:n,query:a})}}render(){return Object(_["jsx"])("div",{className:h.a["second-level-menu-list"],children:this.state.siderItem.map(((e,t)=>Object(_["jsx"])("div",{className:[h.a["second-level-menu-item"],e==this.state.currentItem?h.a["second-level-menu-item-current"]:""].join(" "),onClick:()=>this.changeTab(e,this),children:e},t)))})}}var f=a("JyZf"),v=a.n(f),g=a("Mna0"),j=a.n(g),x=a("6n/F"),O=a.n(x),y=a("lVxW"),w=a.n(y),S=a("4a0S"),k=a.n(S),N=400,C=250;function T(e){var t=0,a=0;return e.forEach((e=>{1===e.solved&&(t+=1,a+=e.time)})),{solved:t,time:a}}function z(e,t){return e.solved>t.solved||e.solved==t.solved&&e.time<t.time?1:0}function I(e,t,a,n){var r=[];n.sort(((e,t)=>e.timestamp<t.timestamp?-1:e.timestamp>t.timestamp?1:0));var s=Math.floor((e.end_time-e.start_time)/60),i={},o=function(t){i[t]={},i[t]["problem"]=[],e.problem_id.forEach((e=>{var a={};a["problem_id"]=e,a["solved"]=0,a["time"]=0,i[t].problem.push(a)}))};for(var c in a)o(c);for(var l=n.length,d=0,m="",u=0;u<=s;++u){while(d<l&&n[d].timestamp<=60*u){var h=n[d],p=h.team_id,_=h.status,b=h.problem_id,f=h.timestamp;"correct"===_?(i[p].problem[b].solved=1,i[p].problem[b].time+=f,p==t.team_id&&(m="Last Solved Problem ".concat(e.problem_id[b],"."))):i[p].problem[b].time+=f,++d}var v=T(i[t.team_id].problem),g=1;for(var j in i)if(j!==t.team_id){var x=i[j],O=T(x.problem);g+=z(O,v)}r.push({x:u,y:g,last_solved:m})}var y=[];y.push(r[0]);for(var w=1;w<r.length-1;++w)r[w].y===y[y.length-1].y&&r[w].last_solved===y[y.length-1].last_solved||y.push(r[w]);return y.push(r[r.length-1]),y}function F(e,t,a,n){var r={chart:{type:"spline"},title:{text:"Place Change Trend Chart"},series:[{showInLegend:!1,allowPointSelect:!1,name:"Place",type:"spline",data:I(e,t,a,n)}],xAxis:[{allowDecimals:!1,title:{text:"Time"}}],yAxis:[{allowDecimals:!1,reversed:!0,title:{text:"Place"},gridLineWidth:1}],plotOptions:{line:{color:"#efbc47",dataLabels:{enabled:!1},enableMouseTracking:!0,marker:{enabled:!0,fillColor:"#fff566"}}},tooltip:{enabled:!0,headerFormat:"",pointFormat:"Time\uff1a{point.x} <br/> Place\uff1a{point.y} <br/> {point.last_solved}"},credits:{enabled:!1},exporting:{enabled:!0},navigation:{menuItemStyle:{fontSize:"10px"}}};return r}var E=a("LvDl");class L extends r.a.Component{update(e){var t=this;return Object(l["a"])(c.a.mark((function a(){var n;return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=F(e.contest_config,e.cur_team,e.team,e.run),t.setState({loaded:!0,options:n});case 2:case"end":return a.stop()}}),a)})))()}componentWillMount(){var e=this;return Object(l["a"])(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(E["debounce"])(e.update,C).bind(e)(e.props);case 1:case"end":return t.stop()}}),t)})))()}componentWillReceiveProps(e){var t=this;return Object(l["a"])(c.a.mark((function a(){return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Object(E["debounce"])(t.update,C).bind(t)(e);case 1:case"end":return a.stop()}}),a)})))()}componentWillUnmount(){}constructor(e){super(e),this.state={loaded:!1,options:{}}}render(){return Object(_["jsxs"])(_["Fragment"],{children:[!1===this.state.loaded&&Object(_["jsx"])("div",{className:k.a.loading,style:{height:N},children:Object(_["jsx"])(m["a"],{})}),!0===this.state.loaded&&Object(_["jsx"])(w.a,{style:{height:{height:N}},highcharts:O.a,options:this.state.options})]})}}var M=500;function D(e,t){return["analyze","team",e,t].join("-")}function P(e){return["star",e].join("-")}function J(e){return["star","btn",e].join("-")}function W(e){return["unstar","btn",e].join("-")}var A=1061109567;function R(e){var t=[];return e.problem_id.forEach(((a,n)=>{var r={};r["problem_id"]=n,r["solved"]=0,r["total"]=0,r["attempted"]=0,r["first_solve_time"]=A,r["last_solve_time"]=0,e.balloon_color&&(r["balloon_color"]=e.balloon_color[n]),t.push(r)})),t}function G(e,t){var a={},n=function(n){var r=t[n],s={};for(var i in r)s[i]=r[i];s["solved"]=0,s["attempted"]=0,s["time"]=0,s["problem"]=[],e.problem_id.forEach(((e,t)=>{var a={time:0,status:"unattempted",attempt_num:0,pending_num:0};s.problem.push(a)})),a[n]=s};for(var r in t)n(r);return a}function V(e,t){return[e,t].join("-")}function q(e,t){var a=R(e);return(()=>{var e=new Set;t.forEach((t=>{"correct"===t.status&&e.add(V(t.team_id,t.problem_id))})),t.forEach((t=>{var n=a[t.problem_id];n.total+=1,"correct"===t.status&&(n.solved+=1,n.first_solve_time=Math.min(n.first_solve_time,Object(p["b"])(t.timestamp)),n.last_solve_time=Math.max(n.last_solve_time,Object(p["b"])(t.timestamp))),e.has(V(t.team_id,t.problem_id))&&(n.attempted+=1)}))})(),a}function B(e,t){if(e.solved!=t.solved){if(e.solved>t.solved)return-1;if(e.solved<t.solved)return 1}if(e.time!==t.time){if(e.time<t.time)return-1;if(e.time>t.time)return 1}return 0}function U(e,t,a,n){var r=G(e,t),s=[];for(var i in a.forEach((t=>{var a=t.team_id,n=t.problem_id,s=r[a],i=s.problem[n];i.attempt_num+=1,i.time=t.timestamp,"correct"===t.status?(i.status="correct",s.solved+=1,s.time+=i.time+(i.attempt_num-1)*e.penalty):"pending"===t.status?(i.status="pending",i["pending_num"]+=1):"incorrect"===t.status&&(i.status="incorrect")})),a.forEach((e=>{var t=r[e.team_id],a=t.problem[e.problem_id];"correct"===a.status&&(t.attempted+=1)})),r){var o=r[i],c=o.problem;for(var l in o["team_id"]=i,c)c[l].time=Object(p["b"])(c[l].time);s.push(o)}s.sort(B);for(var d=function(t,a,n,r,i){var o=s[t];if(o.solved==i&&o.time==r?o.place=n:(o.place=t+1-a,n=o.place,r=o.time,i=o.solved),e.medal){var c=0,l=!1,d=e.medal;[{gold:d.gold},{silver:d.silver},{bronze:d.bronze},{honorable:A}].forEach((e=>{for(var t in e)c+=e[t],o.place<=c&&!l&&(o.place_className=t,l=!0)}))}else o.place_className="stnd";h=n,_=r,b=i},m=0,u=0,h=0,_=-1,b=e.problem_id.length+1;m<s.length;++m)d(m,u,h,_,b);for(var f=0;f<s.length;++f){var v=s[f];if(0==f)v.stand_className_id=0;else{var g=s[f-1];if(v.solved==g.solved)v.stand_className_id=1^g.stand_className_id;else{var j=g.stand_className_id;v.stand_className_id=10*(1^Math.floor(j/10))+j%10}}for(var x=0;x<e.problem_id.length;++x){var O=v.problem[x];O.status_className=O.status,"correct"===O.status&&O.time===n[x].first_solve_time&&(O.status_className="firstsolve")}}if(e.organization)for(var y=new Set,w=0;w<s.length;++w){var S=s[w];y.has(S.organization)||(S.organization_place=[...y].length+1,y.add(S.organization))}for(var k=0;k<s.length;++k)s[k]["time"]=Object(p["b"])(s[k]["time"]);return s}var Y=a("0ieP");function K(e,t){var a="\u3001",n="";return e&&(n+="".concat(e,"(\u6559\u7ec3)")),e&&t&&(n+=a),t&&(n+=t.join(a)),n}function Q(e,t,a,n,r){if(t){if((()=>{var t=a.state.concerned;t.add(e),a.setState({concerned:t})})(),1!==n.organization_filter){var s=a.state.team_list_filter,i=Object(p["a"])(n);i.concerned=1,s.push(i),s=(()=>{var e=new Set,t=[];return s.forEach((a=>{e.has(a.team_id)||(e.add(a.team_id),t.push(a))})),t})(),s.sort(B),a.setState({team_list_filter:s})}window.localStorage.setItem(Object(p["h"])(e),"1")}else if((()=>{var t=a.state.concerned;t.delete(e),a.setState({concerned:t})})(),window.localStorage.removeItem(Object(p["h"])(e)),r&&a.clearTeamDetailsDisplay(),1!==n.organization_filter){var o=a.state.team_list_filter;o=(()=>{var t=[];return o.forEach((a=>{if(a.team_id!==e){var n=Object(p["a"])(a);t.push(n)}})),t})(),a.setState({team_list_filter:o})}}function Z(e,t,a,n){var r=D(e.team_id,a?2:1);return Object(_["jsxs"])(_["Fragment"],{children:[Object(_["jsxs"])("tr",{className:[a?v.a.filter:v.a[["stand",e.stand_className_id].join("")],v.a.team].join(" "),onClick:()=>{var e,t=document.getElementById(r);switch(null===t||void 0===t||null===(e=t.style)||void 0===e?void 0:e.display){case"none":n.clearTeamDetailsDisplay(),t.style.display="";var a={};a[r]=1,n.setState({vis:a});break;case"":t.style.display="none",n.setState({vis:{}});break}},children:[Object(_["jsx"])("td",{className:v.a[e.place_className],children:e.place}),1===n.state.badge&&Object(_["jsx"])("td",{className:v.a.empty,children:Object(_["jsx"])("img",{src:["data:image/png;base64,",e.badge.base64].join(""),width:32,height:32,alt:""})}),1===n.state.organization&&Object(_["jsx"])("td",{className:v.a.stnd,children:Object(_["jsxs"])("div",{style:{display:"flex"},children:[Object(_["jsx"])("div",{style:{float:"left",fontFamily:"Georgia",paddingLeft:5},children:e.organization_place}),Object(_["jsx"])("div",{style:{flex:"1"},children:e.organization}),Object(_["jsx"])("div",{style:{float:"right"}})]})}),Object(_["jsxs"])("td",{className:v.a.stnd,children:[e.name,1===e.unofficial&&Object(_["jsx"])(Y["e"],{}),Object(_["jsx"])("span",{className:P(e.team_id),style:{display:n.state.concerned.has(e.team_id)?"":"none"},children:Object(_["jsx"])(Y["c"],{})}),1===e.girl&&Object(_["jsx"])(Y["a"],{})]}),Object(_["jsx"])("td",{className:v.a.stnd,children:e.solved}),Object(_["jsx"])("td",{className:v.a.stnd,children:e.time}),e.problem.map(((e,t)=>{var a,r=(()=>{switch(e.status){case"correct":return"+";case"incorrect":return"-";case"pending":return"?";case"unattempted":return".";default:return"."}})();return Object(_["jsxs"])("td",{className:v.a[e.status_className],children:[r,"pending"===e.status&&[" ",e["pending_num"]].join(""),Object(_["jsx"])("br",{}),e.attempt_num?parseInt(e.attempt_num):"",1!==(null===(a=n.state.contest_config)||void 0===a?void 0:a.status_time_display[e.status])||!e.time&&0!==e.time?"":"/"+parseInt(e.time)]})})),Object(_["jsx"])("td",{className:v.a.stnd,children:[e.solved>0?Math.floor((e.attempted-e.solved)/e.attempted*100):0,"%"].join("")})]}),Object(_["jsx"])("tr",{style:{display:"none"},id:r,children:Object(_["jsxs"])("td",{colSpan:n.getInfoCol()+n.getProblemCol()+n.getStatisticsCol(),children:[Object(_["jsx"])("div",{style:{display:"flex"},children:Object(_["jsxs"])("div",{style:{float:"left",marginTop:2},children:[Object(_["jsxs"])("div",{className:[W(e.team_id),j.a["star-btn"]].join(" "),title:"Star ".concat(e.name),style:{display:n.state.concerned.has(e.team_id)?"":"none"},onClick:()=>{Q(e.team_id,!1,n,e,a)},children:[Object(_["jsx"])("svg",{className:j.a["octicon-star"],height:"16",viewBox:"0 0 16 16",version:"1.1",width:"16","aria-hidden":"true",children:Object(_["jsx"])("path",{fillRule:"evenodd",d:"M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25z"})}),"Unstar"]}),Object(_["jsxs"])("div",{className:[J(e.team_id),j.a["star-btn"]].join(" "),title:"Star ".concat(e.name),style:{display:n.state.concerned.has(e.team_id)?"none":""},onClick:()=>{Q(e.team_id,!0,n,e,a)},children:[Object(_["jsx"])("svg",{className:j.a["octicon-star"],height:"16",viewBox:"0 0 16 16",version:"1.1",width:"16","aria-hidden":"true",children:Object(_["jsx"])("path",{fillRule:"evenodd",d:"M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z"})}),"Star"]}),(e.coach||e.members)&&Object(_["jsx"])("span",{style:{paddingLeft:"10px"},children:K(e.coach,e.members)})]})}),1===n.state.vis[r]&&Object(_["jsx"])(_["Fragment"],{children:Object(_["jsx"])(L,{contest_config:n.state.contest_config,cur_team:e,team:n.state.team,run:n.state.run})})]})})]})}function H(e,t){return Z(e,t,!0,this)}function X(e,t){return Z(e,t,!1,this)}class $ extends r.a.Component{clearTimer(){this.timer&&clearTimeout(this.timer)}clearTeamDetailsDisplay(){var e;for(var t in this.state.vis){var a=document.getElementById(t);switch(null===a||void 0===a||null===(e=a.style)||void 0===e?void 0:e.display){case"":a.style.display="none";break}}this.setState({vis:{}})}update(e){var t,a,n=q(e.contest_config,e.run),r=U(e.contest_config,e.team,e.run,n),s=(()=>{var e=new Set;return r.forEach((t=>{1===t.concerned&&e.add(t.team_id)})),e})();this.setState({problem_list:n,team_list:r,contest_config:e.contest_config,team_list_filter:r.filter((e=>1===e.filter)),team:e.team,run:e.run,organization:(null===(t=e.contest_config)||void 0===t?void 0:t.organization)?1:0,badge:(null===(a=e.contest_config)||void 0===a?void 0:a.badge)?1:0,loaded:!0,filter:e.filter,concerned:s})}getInfoCol(){return 4+this.state.organization+this.state.badge}getProblemCol(){var e,t;return null===(e=this.state.contest_config)||void 0===e||null===(t=e.problem_id)||void 0===t?void 0:t.length}getStatisticsCol(){return 1}componentWillMount(){Object(E["debounce"])(this.update,M).bind(this)(this.props)}componentDidMount(){}componentWillReceiveProps(e){var t;(null===(t=this.props)||void 0===t?void 0:t.currentGroup)!==(null===e||void 0===e?void 0:e.currentGroup)?(this.setState({loaded:!1}),Object(E["debounce"])(this.update,M).bind(this)(e)):this.update(e)}componentWillUnmount(){this.clearTimer()}constructor(e){super(e),this.timer=null,this.state={contest_config:{},team:{},run:[],problem_list:[],team_list:[],team_list_filter:[],organization:0,badge:0,vis:{},loaded:!1,filter:!0,concerned:new Set}}render(){return Object(_["jsxs"])(_["Fragment"],{children:[!1===this.state.loaded&&Object(_["jsx"])("div",{className:v.a.loading,children:Object(_["jsx"])(m["a"],{})}),!0===this.state.loaded&&Object(_["jsxs"])("table",{style:{marginTop:"5px"},className:v.a.standings,children:[Object(_["jsx"])("thead",{children:Object(_["jsxs"])("tr",{children:[Object(_["jsx"])("th",{className:v.a.title,style:{width:"3em"},children:"Place"}),1===this.state.badge&&Object(_["jsx"])("th",{className:v.a.title,style:{width:"3em"},children:this.state.contest_config.badge}),1===this.state.organization&&Object(_["jsx"])("th",{className:v.a.title,style:{minWidth:"12em"},children:this.state.contest_config.organization}),Object(_["jsx"])("th",{className:v.a.title,style:{minWidth:"12em"},children:"Team"}),Object(_["jsx"])("th",{className:v.a.title,style:{width:"3em"},children:"Solved"}),Object(_["jsx"])("th",{className:v.a.title,style:{width:"3em"},children:"Time"}),Object(_["jsx"])(_["Fragment"],{children:this.state.problem_list.map(((e,t)=>{var a,n;return Object(_["jsxs"])("th",{className:v.a.success,style:{width:"4em",backgroundColor:(null===(a=e.balloon_color)||void 0===a?void 0:a.background_color)||"",color:(null===(n=e.balloon_color)||void 0===n?void 0:n.color)||""},children:[[this.state.contest_config.problem_id[e.problem_id]],Object(_["jsx"])("br",{}),Object(_["jsx"])("s",{children:e.solved})]})}))}),Object(_["jsx"])("th",{className:v.a.title,style:{width:"3em"},children:"Dirt"})]})}),Object(_["jsxs"])("tbody",{children:[!1===this.state.filter&&Object(_["jsx"])(_["Fragment"],{children:this.state.team_list_filter.map(H.bind(this))}),Object(_["jsx"])(_["Fragment"],{children:this.state.team_list.map(X.bind(this))}),Object(_["jsx"])(_["Fragment"],{children:[{title:"Attempted",calc:(e,t)=>Object(_["jsx"])("td",{className:v.a.stnd,children:Object(_["jsx"])("b",{children:e.total})})},{title:"Accepted",calc:(e,t)=>Object(_["jsxs"])("td",{className:v.a.stnd,children:[Object(_["jsx"])("b",{children:e.solved}),Object(_["jsx"])("br",{}),Object(_["jsxs"])("b",{children:["(",Math.round(e.solved/e.total*100),0===e.total?"":"%",")"]})]})},{title:"Dirt",calc:(e,t)=>Object(_["jsxs"])("td",{className:v.a.stnd,children:[Object(_["jsx"])("b",{children:e.attempted-e.solved}),Object(_["jsx"])("br",{}),Object(_["jsxs"])("b",{children:["(",0===e.attempted?"0%":[Math.round((e.attempted-e.solved)/e.attempted*100),"%"].join(""),")"]})]})},{title:"First Solved",calc:(e,t)=>Object(_["jsx"])("td",{className:v.a.stnd,children:Object(_["jsx"])("b",{children:e.first_solve_time===A?"N/A":e.first_solve_time})})},{title:"Last Solved",calc:(e,t)=>Object(_["jsx"])("td",{className:v.a.stnd,children:Object(_["jsx"])("b",{children:0===e.last_solve_time?"N/A":e.last_solve_time})})}].map(((e,t)=>Object(_["jsxs"])("tr",{className:v.a[["statistics",t%2].join("-")],children:[Object(_["jsx"])("td",{className:v.a.empty,colSpan:this.getInfoCol()-1}),Object(_["jsx"])("td",{className:v.a.stnd,children:Object(_["jsx"])("b",{children:e.title})}),Object(_["jsx"])(_["Fragment"],{children:this.state.problem_list.map(e.calc)})]})))})]})]})]})}}a("DYRE");var ee=a("zeV3"),te=200;function ae(e,t,a,n,r,s){return{colors:s,chart:window.innerWidth<992?{type:"bar",backgroundColor:"transparent"}:{type:"column",backgroundColor:"transparent",height:"420px"},title:{text:e},xAxis:{categories:n,labels:{style:{fontSize:"16px"}},title:{text:t,style:{fontSize:"16px"}}},yAxis:{min:0,title:{text:a,style:{fontSize:"16px",height:"320px"}},stackLabels:{enabled:!0,style:{fontSize:"16px"}}},tooltip:{enabled:!0,headerFormat:"",pointFormat:"{series.name}\uff1a{point.y}"},plotOptions:{bar:{stacking:"normal"},column:{stacking:"normal"}},credits:{enabled:!1},series:r}}function ne(e,t){return[e,t].join("-#@!-")}function re(e,t,a){var n=[];e.problem_id.forEach(((e,t)=>{n.push({problem_id:e,index:t,solved:0})})),(()=>{var e=new Set;a.forEach((t=>{if("correct"===t.status){var a=ne(t.team_id,t.problem_id);e.has(a)||(e.add(a),n[t.problem_id].solved+=1)}}))})(),n.sort(((e,t)=>e.solved>t.solved?-1:e.solved<t.solved?1:e.index<t.index?-1:e.index>t.index?1:0));var r=(()=>{var e=[],t=[];n.forEach((a=>{e.push(a.problem_id),t.push(a.solved)}));var a=[{name:"Teams",showInLegend:!1,data:t}],r=["rgb(124, 181, 236)"];return{cat:e,series:a,colors:r}})(),s=r.cat,i=r.series,o=r.colors;return ae("Problem Acceptance Chart","Problem No.","Acceptance",s,i,o)}function se(e,t,a){var n={};for(var r in t)n[r]={solved:0};(()=>{var e=new Set;a.forEach((t=>{if("correct"===t.status){var a=ne(t.team_id,t.problem_id);e.has(a)||(e.add(a),n[t.team_id].solved+=1)}}))})();var s=(()=>{for(var t,a=null===e||void 0===e||null===(t=e.problem_id)||void 0===t?void 0:t.length,r=[],s=0;s<=a;++s)r[s]={index:s,cnt:0};for(var i in n)r[n[i].solved].cnt+=1;return r})(),i=(()=>{var e=[],t=[];s.forEach((a=>{e.push(a.index),t.push(a.cnt)}));var a=[{name:"Teams",showInLegend:!1,data:t}],n=["rgb(124, 181, 236)"];return{cat:e,series:a,colors:n}})(),o=i.cat,c=i.series,l=i.colors;return ae("Team Acceptance Chart","Acceptance","Teams",o,c,l)}function ie(e,t,a){var n=(()=>{var t=[],n=[],r=[],s=[];e.problem_id.forEach(((e,a)=>{n.push(0),r.push(0),s.push(0),t.push(e)})),a.forEach((e=>{switch(e.status){case"correct":n[e.problem_id]+=1;break;case"incorrect":r[e.problem_id]+=1;break;case"pending":s[e.problem_id]+=1;break}}));var i=[{name:"Accepted",showInLegend:!1,data:n},{name:"Rejected",showInLegend:!1,data:r},{name:"Pending",showInLegend:!1,data:s}],o=["#E1FFB5","#FFD0D0","#C8D6FA"];return{cat:t,series:i,colors:o}})(),r=n.cat,s=n.series,i=n.colors;return ae("Submission Category Chart","Problem No.","Submissions.",r,s,i)}var oe=a("sabr"),ce=a.n(oe);class le extends r.a.Component{clearTimer(){this.timer&&clearTimeout(this.timer)}update(e){var t=re(e.contest_config,e.team,e.run),a=se(e.contest_config,e.team,e.run),n=ie(e.contest_config,e.team,e.run);this.setState({problemChartOptions:t,teamChartOptions:a,submitChartOptions:n,loaded:!0})}componentDidMount(){var e=this;return Object(l["a"])(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.clearTimer(),e.timer=setTimeout((()=>{e.update(e.props)}),te);case 2:case"end":return t.stop()}}),t)})))()}componentWillReceiveProps(e){var t=this;return Object(l["a"])(c.a.mark((function a(){return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.update(e);case 1:case"end":return a.stop()}}),a)})))()}componentWillUnmount(){this.clearTimer()}constructor(e){super(e),this.timer=null,this.state={loaded:!1,problemChartOptions:{},teamChartOptions:{},submitChartOptions:{}}}render(){return Object(_["jsxs"])(_["Fragment"],{children:[!1===this.state.loaded&&Object(_["jsx"])("div",{className:ce.a.loading,children:Object(_["jsx"])(m["a"],{})}),!0===this.state.loaded&&Object(_["jsx"])("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(_["jsx"])(ee["b"],{size:"middle",direction:"vertical",children:Object(_["jsxs"])("div",{style:{width:"1280px"},children:[Object(_["jsx"])(w.a,{highcharts:O.a,options:this.state.submitChartOptions}),Object(_["jsx"])(w.a,{highcharts:O.a,options:this.state.problemChartOptions}),Object(_["jsx"])(w.a,{highcharts:O.a,options:this.state.teamChartOptions})]})})})]})}}a("OaEy");var de=a("2fM7"),me=de["a"].Option;class ue extends r.a.Component{update(e){this.setState({placeholder:e.placeholder||"",search:e.search,history:e.history,queryName:e.queryName||"",selectedItem:e.selectedItem||[],currentSelected:e.currentSelected||[]})}componentDidMount(){this.update(this.props)}componentWillReceiveProps(e){var t=this;return Object(l["a"])(c.a.mark((function a(){return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.update(e);case 1:case"end":return a.stop()}}),a)})))()}constructor(e){super(e),this.state={placeholder:"",search:null,history:{},queryName:"",selectedItem:[],currentSelected:[]}}onChange(e){var t=Object(p["f"])(this.state.queryName,JSON.stringify(e),this.state.search),a=window.location.pathname;this.state.history.push({pathname:a,query:t})}render(){return Object(_["jsx"])(_["Fragment"],{children:Object(_["jsx"])(de["a"],{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:this.state.placeholder,defaultValue:this.state.currentSelected,onChange:this.onChange.bind(this),children:this.state.selectedItem.map(((e,t)=>Object(_["jsx"])(me,{children:e},e)))},this.state.currentSelected)})}}var he=a("dOJQ"),pe=a.n(he),_e=3e4,be=[{background_color:"rgba(189, 14, 14, 0.7)",color:"#fff"},{background_color:"rgba(255, 144, 228, 0.7)",color:"#fff"},{background_color:"rgba(255, 255, 255, 0.7)",color:"#000"},{background_color:"rgba(38, 185, 60, 0.7)",color:"#fff"},{background_color:"rgba(239, 217, 9, 0.7)",color:"#000"},{background_color:"rgba(243, 88, 20, 0.7)",color:"#fff"},{background_color:"rgba(12, 76, 138, 0.7)",color:"#fff"},{background_color:"rgba(156, 155, 155, 0.7)",color:"#fff"},{background_color:"rgba(4, 154, 115, 0.7)",color:"#fff"},{background_color:"rgba(159, 19, 236, 0.7)",color:"#fff"},{background_color:"rgba(42, 197, 202, 0.7)",color:"#fff"},{background_color:"rgba(142, 56, 54, 0.7)",color:"#fff"},{background_color:"rgba(0, 0, 0, 0.7)",color:"#fff"}],fe=["A","B","C","D","E","F","G","H","I","J","K","L"];function ve(e){return"string"===typeof e&&(e=new Date(e)),Math.floor(e.getTime()/1e3)}function ge(e,t){var a,n,r,s,i={};i["contest_name"]=e.contestMeta.contestName,i["start_time"]=ve(e.contestMeta.startTime),i["end_time"]=ve(e.contestMeta.endTime),(null===(a=e.contestMeta)||void 0===a?void 0:a.frozenStartTime)?i["frozen_time"]=ve(e.contestMeta.frozenEndTime)-ve(e.contestMeta.frozenStartTime):i["frozen_time"]=0,i["penalty"]=1200,i["status_time_display"]={correct:1,incorrect:1,pending:1};var o=null!==(n=null===e||void 0===e||null===(r=e.problemMetas)||void 0===r?void 0:r.length)&&void 0!==n?n:0;i["problem_id"]=fe.filter(((e,t)=>t<o)),i["balloon_color"]=be.filter(((e,t)=>t<o));var c=new Map;null===e||void 0===e||null===(s=e.problemMetas)||void 0===s||s.forEach((e=>{c.set(e.problemId,e.orderId)}));var l={};t.contestUserList.forEach((e=>{l[e.id]={name:e.nickname}}));var d=[],m=e=>"Accepted"===e?"correct":"Pending"===e||"Frozen"===e?"pending":"incorrect";return t.submissions.filter((e=>"Canceled"!==e.status&&"CompilationError"!==e.status&&"ConfigurationError"!==e.status&&"FileError"!==e.status&&"SystemError"!==e.status)).forEach((e=>{d.push({team_id:e.submitter.id,timestamp:ve(e.submitTime)-i["start_time"],problem_id:c.get(e.problem.id)-1,status:m(e.status)})})),{contest_config:i,team:l,run:d}}function je(e){var t=["Standings","Balloon","Statistics","Export"],a=["All","Concern"],n=["all","filter"],r={type:Object(p["a"])(t),group:Object(p["a"])(a)},s=Object(p["a"])(n);if(e.group)for(var i in e.group){var o=e.group[i];s.push(i),r.group.push(o)}return{menu_item:r,fgroup:s}}function xe(e,t,a){var n="all",r=new URLSearchParams(e);if(r.get("group")){var s=t.indexOf(r.get("group")||"");-1!==s&&(n=a[s])}return n}function Oe(e,t){var a=Object(p["g"])("timeflag",t),n=Object(p["c"])();return null==a&&(a=n.toString()),a=parseInt(a||""),n>e.end_time&&(n=e.end_time),n<e.start_time&&(n=e.start_time),a>n&&(a=n),a<e.start_time&&(a=e.start_time),Math.ceil(a-e.start_time)}function ye(e){var t=[];for(var a in e)e[a].organization&&t.push(e[a].organization);return Object(p["k"])(t)}function we(e){var t=new URLSearchParams(e);return t.get("organization")?JSON.parse(t.get("organization")||""):[]}var Se=1061109567;function ke(e,t){var a=Object(p["a"])(e);return a.medal&&(delete a.medal,e.medal[t]&&(a.medal=Object(p["a"])(e.medal[t]))),a}function Ne(e,t,a){var n=we(a);for(var r in n=new Set(n),e){var s,i=e[r];i.filter=0,i.organization_filter=0,window.localStorage.getItem(Object(p["h"])(r))&&(i.concerned=1,i.filter=1),n.has(null===(s=e[r])||void 0===s?void 0:s["organization"])&&(i.organization_filter=1,i.filter=1)}var o=(()=>{var a={};for(var n in e){var r=e[n];1===r[t]&&(a[n]=r)}return a})();return o}function Ce(e,t,a){var n=(()=>{var t=[];return e.forEach((e=>{e.timestamp<=a&&t.push(e)})),t.sort(((e,t)=>e.timestamp<t.timestamp?-1:e.timestamp>t.timestamp?1:"correct"===t.status&&"correct"!==e.status?-1:"correct"===e.status&&"correct"!==t.status?1:0)),t})(),r=(()=>{var e=new Map,a=new Set(Object.keys(t)),r=[];return n.forEach((t=>{if(a.has(t.team_id.toString())){var n=[t.team_id,t.problem_id].join("-");e.has(n)&&e.get(n)!=Se||(r.push(t),"correct"===t.status?e.set(n,t.timestamp):e.set(n,Se))}})),r})();return r}a("g9YV");var Te=a("wCAj"),ze=(a("+L6B"),a("2/Rp")),Ie=(a("5NDa"),a("5rEg")),Fe=a("k1fw"),Ee=a("EXKh"),Le=a.n(Ee),Me=a("WG1l"),De=a.n(Me),Pe=a("l+S1"),Je=a("0lfv"),We=a("IP2g"),Ae=a("wHSu"),Re=a("yeqW"),Ge=a.n(Re);function Ve(e,t){return[e,t].join("#$#")}function qe(e){return e<9?["0",e].join(""):e}function Be(e){return[qe(Math.floor(e/60/60)),qe(Math.floor(e/60%60)),qe(Math.floor(e%60))].join(":")}function Ue(){return[window.location.pathname,"balloon","dispatched","list"].join("_")}class Ye extends r.a.Component{getColumns(e){if(null==(null===e||void 0===e?void 0:e.balloon_color))return[];var t=[];return t=[...t,{title:"Status",dataIndex:"status",key:"status",width:"2%",align:"center",filters:[{text:"Send",value:!0},{text:"Pending",value:!1}],onFilter:(e,t)=>t.status==e,render:e=>!0===e?Object(_["jsx"])(We["a"],{size:"lg",icon:Ae["a"]}):Object(_["jsx"])(We["a"],{size:"lg",icon:Ae["c"]})},{title:"Time",dataIndex:"time",key:"time",width:"5%",align:"10%",sorter:(e,t)=>e.time-t.time,render:e=>Be(e)},{title:"Solved",dataIndex:"solved",key:"solved",width:"2%",align:"center",filters:e.problem_id.map(((e,t)=>({text:e,value:t}))),onFilter:(e,t)=>t.solved==e,render:t=>Object(_["jsxs"])(_["Fragment"],{children:[Object(_["jsx"])(We["a"],{size:"lg",style:{color:e.balloon_color[t]["background_color"]},icon:Ae["b"]}),"\xa0",e.problem_id[t]]})}],(null===e||void 0===e?void 0:e.badge)&&(t=[...t,{title:e.badge,dataIndex:"badge",key:"badge",width:"5%",align:"left",render:e=>Object(_["jsx"])("img",{width:"32",height:"32",src:["data:image/png;base64,",e].join("")})}]),(null===e||void 0===e?void 0:e.organization)&&(t=[...t,Object(Fe["a"])({title:e.organization,dataIndex:"organization",key:"organization",width:"20%",align:"left"},this.getColumnSearchProps("organization"))]),t=[...t,Object(Fe["a"])({title:"Team",dataIndex:"team",key:"team",width:"20%",align:"left"},this.getColumnSearchProps("team")),{title:"Total",dataIndex:"total",key:"total",width:"15%",align:"left",render:t=>t.map((t=>Object(_["jsx"])(We["a"],{size:"lg",style:{color:e.balloon_color[t]["background_color"]},icon:Ae["b"]})))},{title:"Awards",dataIndex:"awards",key:"awards",width:"10%",align:"left"},{title:"Action",dataIndex:"action",key:"action",width:"5%",align:"center",render:e=>e.status?Object(_["jsx"])("div",{className:Le.a.touch,onClick:()=>{var t=JSON.parse(window.localStorage.getItem(Ue())||"[]");t=t.filter((t=>t!==e.solvedId)),t=Array.from(new Set(t)),window.localStorage.setItem(Ue(),JSON.stringify(t)),Object(E["debounce"])(this.update,100).bind(this)(this.props)},children:Object(_["jsx"])(We["a"],{size:"lg",icon:Ae["e"]})}):Object(_["jsx"])("div",{className:Le.a.touch,onClick:()=>{var t=JSON.parse(window.localStorage.getItem(Ue())||"[]");t.push(e.solvedId),t=Array.from(new Set(t)),window.localStorage.setItem(Ue(),JSON.stringify(t)),Object(E["debounce"])(this.update,100).bind(this)(this.props)},children:Object(_["jsx"])(We["a"],{size:"lg",icon:Ae["d"]})})}],t}getTableData(e,t,a){if(null==(null===e||void 0===e?void 0:e.balloon_color))return[];var n=[];for(var r in t)t[r]["total"]=[];var s=new Set(JSON.parse(window.localStorage.getItem(Ue())||"[]")),i=new Set;return a.filter((e=>"correct"===e.status)).forEach((a=>{t[a.team_id].total.push(a.problem_id),t[a.team_id].total.sort(((e,t)=>e-t));var r="";i.has(a.problem_id)||(r="First to solved problem ".concat(e["problem_id"][a.problem_id]),i.add(a.problem_id));var o,c=s.has(Ve(a.team_id,a.problem_id)),l={status:c,time:a.timestamp,solved:a.problem_id,total:Object(Je["a"])(t[a.team_id].total),action:{status:c,solvedId:Ve(a.team_id,a.problem_id)},team:t[a.team_id].name,awards:r};(null===e||void 0===e?void 0:e.badge)&&(l.badge=null===(o=t[a.team_id].badge)||void 0===o?void 0:o.base64);(null===e||void 0===e?void 0:e.organization)&&(l.organization=t[a.team_id].organization),n.push(l)})),n.sort(((e,t)=>e.status&&!t.status?1:!e.status&&t.status?-1:e.time<t.time?1:e.time>t.time?-1:0)),n}update(e){var t,a=this.getTableData(e.contest_config,e.team,e.run),n=this.getColumns(e.contest_config);this.setState({loaded:!0,on:!!(null===(t=e.contest_config)||void 0===t?void 0:t.balloon_color),tableData:Object(Je["a"])(a),columns:n})}componentWillMount(){var e=this;return Object(l["a"])(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(E["debounce"])(e.update,100).bind(e)(e.props);case 1:case"end":return t.stop()}}),t)})))()}componentDidMount(){return Object(l["a"])(c.a.mark((function e(){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}componentWillReceiveProps(e){var t=this;return Object(l["a"])(c.a.mark((function a(){return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Object(E["debounce"])(t.update,100).bind(t)(e);case 1:case"end":return a.stop()}}),a)})))()}componentWillUnmount(){}constructor(e){super(e),this.state={loaded:!1,on:!1,searchText:"",searchedColumn:"",tableData:[],columns:[]},this.getColumnSearchProps=e=>({filterDropdown:t=>{var a=t.setSelectedKeys,n=t.selectedKeys,r=t.confirm,s=t.clearFilters;return Object(_["jsxs"])("div",{style:{padding:8},children:[Object(_["jsx"])(Ie["a"],{ref:e=>{this.searchInput=e},placeholder:"Search ".concat(e),value:n[0],onChange:e=>a(e.target.value?[e.target.value]:[]),onPressEnter:()=>this.handleSearch(n,r,e),style:{width:188,marginBottom:8,display:"block"}}),Object(_["jsxs"])(ee["b"],{children:[Object(_["jsx"])(ze["a"],{type:"primary",onClick:()=>this.handleSearch(n,r,e),icon:Object(_["jsx"])(Pe["a"],{}),size:"small",style:{width:90},children:"Search"}),Object(_["jsx"])(ze["a"],{onClick:()=>this.handleReset(s),size:"small",style:{width:90},children:"Reset"})]})]})},filterIcon:e=>Object(_["jsx"])(Pe["a"],{style:{color:e?"#1890ff":void 0}}),onFilter:(t,a)=>a[e].toString().toLowerCase().includes(t.toLowerCase()),onFilterDropdownVisibleChange:e=>{e&&setTimeout((()=>this.searchInput.select()))},render:t=>this.state.searchedColumn===e?Object(_["jsx"])(De.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[this.state.searchText],autoEscape:!0,textToHighlight:t.toString()}):t}),this.handleSearch=(e,t,a)=>{t(),this.setState({searchText:e[0],searchedColumn:a})},this.handleReset=e=>{e(),this.setState({searchText:""})}}render(){return Object(_["jsxs"])(_["Fragment"],{children:[!1===this.state.loaded&&Object(_["jsx"])("div",{className:Le.a.loading,children:Object(_["jsx"])(m["a"],{})}),!0===this.state.loaded&&!1===this.state.on&&Object(_["jsxs"])(_["Fragment"],{children:[Object(_["jsx"])("br",{}),Object(_["jsx"])("br",{}),Object(_["jsx"])("h2",{children:"There is no balloon color assigned to this contest, and this function cannot be used."})]}),!0===this.state.loaded&&!0===this.state.on&&Object(_["jsx"])(_["Fragment"],{children:Object(_["jsx"])(Te["a"],{style:{marginTop:20,width:"100%",maxWidth:"1280px"},size:"small",columns:this.state.columns,dataSource:this.state.tableData,className:Ge.a.table,pagination:{hideOnSinglePage:!0,showQuickJumper:!0,showSizeChanger:!0,defaultPageSize:8,pageSizeOptions:["8","16","32","64","128"]}})})]})}}var Ke=a("LOQL"),Qe=a.n(Ke),Ze=de["a"].Option,He=Ie["a"].TextArea;class Xe extends r.a.Component{update(e){this.contest_config=e.contest_config,this.team=e.team,this.run=e.run}componentWillMount(){var e=this;return Object(l["a"])(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.update(e.props);case 1:case"end":return t.stop()}}),t)})))()}componentWillReceiveProps(e){var t=this;return Object(l["a"])(c.a.mark((function a(){return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.update(e);case 1:case"end":return a.stop()}}),a)})))()}componentWillUnmount(){}constructor(e){super(e),this.contest_config=null,this.team=null,this.run=null,this.state={type:"",datFileValue:"",datFileGenerateLoading:!1,rankJsonValue:"",rankJsonGenerateLoading:!1}}onChange(e){this.setState({type:e})}getDatFile(){this.setState({datFileGenerateLoading:!0});var e="";e+='@contest "'.concat(this.contest_config.contest_name,'"\n@contlen ').concat(Object(p["b"])(this.contest_config.end_time-this.contest_config.start_time),"\n@problems ").concat(this.contest_config.problem_id.length,"\n@teams ").concat(Object.keys(this.team).length,"\n@submissions ").concat(this.run.length,"\n"),this.contest_config.problem_id.forEach((t=>{e+="@p ".concat(t,",").concat(t,",20,0\n")}));var t=(()=>{var e={},t={},a=1,n=()=>this.contest_config.problem_id.map(((e,t)=>0));for(var r in this.team)e[r]=a,++a,t[r]=n();return{team_new_id:e,team_problem_submit_index:t}})(),a=t.team_new_id,n=t.team_problem_submit_index;for(var r in this.team)e+="@t ".concat(a[r],",0,1,").concat(this.team[r].name,"\n");this.run.forEach((t=>{var r="";"correct"===t.status&&(r="OK"),"incorrect"===t.status&&(r="WA"),"pending"===t.status&&(r="PD"),++n[t.team_id][t.problem_id],e+="@s ".concat(a[t.team_id],",").concat(this.contest_config.problem_id[t.problem_id],",").concat(n[t.team_id][t.problem_id],",").concat(t.timestamp,",").concat(r,"\n")})),this.setState({datFileGenerateLoading:!1,datFileValue:e})}getRankJson(){var e=[],t=Object(p["a"])(this.team),a=this.contest_config.penalty;for(var n in t)t[n]["problem"]=this.contest_config.problem_id.map((()=>0)),t[n]["solved"]=0,t[n]["time"]=0;this.run.forEach((e=>{"correct"===e.status?(t[e.team_id].solved+=1,t[e.team_id].time+=e.timestamp+a*t[e.team_id].problem[e.problem_id]):t[e.team_id].problem[e.problem_id]+=1}));var r=[];for(var s in t)r.push(t[s]);r.sort(((e,t)=>e.solved>t.solved?-1:e.solved<t.solved?1:e.time<t.time?-1:e.time>t.time?1:e.name<t.name?-1:e.name>t.name?1:0)),r.forEach(((t,a)=>{var n={};n.members=t.members||[],n.organization=t.organization||"",n.name=t.name||"",n.place={},n.place["all"]=a+1,e.push(n)}));var i={};i["contestName"]=this.contest_config["contest_name"],i["teams"]=e,this.setState({rankJsonGenerateLoading:!1,rankJsonValue:JSON.stringify(i)})}render(){return Object(_["jsx"])(_["Fragment"],{children:Object(_["jsxs"])(ee["b"],{size:"middle",direction:"vertical",children:[Object(_["jsxs"])(de["a"],{showSearch:!0,style:{width:680,marginTop:30},placeholder:"Select a type",optionFilterProp:"children",onChange:this.onChange.bind(this),filterOption:(e,t)=>t.children.toLowerCase().indexOf(e.toLowerCase())>=0,children:[Object(_["jsx"])(Ze,{value:"dat-file",children:"Codeforces Gym Ghosts DAT File"}),Object(_["jsx"])(Ze,{value:"rank-json",children:"Rank JSON"})]}),"dat-file"===this.state.type&&Object(_["jsxs"])(_["Fragment"],{children:[Object(_["jsx"])("div",{style:{width:680},children:Object(_["jsx"])(He,{allowClear:!0,rows:15,defaultValue:this.state.datFileValue,disabled:this.state.datFileGenerateLoading},this.state.datFileValue)}),Object(_["jsx"])(ze["a"],{loading:this.state.datFileGenerateLoading,className:Qe.a.btn,type:"primary",size:"middle",onClick:this.getDatFile.bind(this),children:"Generate"})]}),"rank-json"===this.state.type&&Object(_["jsxs"])(_["Fragment"],{children:[Object(_["jsx"])("div",{style:{width:680},children:Object(_["jsx"])(He,{allowClear:!0,rows:15,defaultValue:this.state.rankJsonValue,disabled:this.state.rankJsonGenerateLoading},this.state.rankJsonValue)}),Object(_["jsx"])(ze["a"],{loading:this.state.rankJsonGenerateLoading,className:Qe.a.btn,type:"primary",size:"middle",onClick:this.getRankJson.bind(this),children:"Generate"})]})]})})}}var $e=a("f133");class et extends r.a.Component{clearTimer(){this.timer&&clearTimeout(this.timer)}fetch(){var e=this;return Object(l["a"])(c.a.mark((function t(){var a,n,r,s,i,o,l;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$e["c"].contest.getStandingsData({contestId:e.props.contestId});case 2:a=t.sent,n=a.requestError,r=a.response,n?console.error(n):r.error?console.error(r.error):(s=ge(e.props.contest,r),i=s.contest_config,o=s.team,l=s.run,null!==i&&null!==o&&null!==l&&(e.contest_config=i,e.team=o,e.run=l));case 6:case"end":return t.stop()}}),t)})))()}update(e){var t=this;return Object(l["a"])(c.a.mark((function a(){var n,r,s,i,o,l,d,m,u,h,p,_;return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.state.loaded){a.next=5;break}return a.next=3,t.fetchThrottled();case 3:a.next=12;break;case 5:if(null!=t.timer){a.next=10;break}return a.next=8,t.fetch();case 8:a.next=12;break;case 10:return a.next=12,t.fetchThrottled();case 12:if(null!==t.contest_config&&null!==t.team&&null!==t.run){a.next=16;break}return t.clearTimer(),t.timer=setTimeout((()=>{t.update(e)}),1e3),a.abrupt("return");case 16:for(r in document.title=null===(n=t.contest_config)||void 0===n?void 0:n.contest_name,t.team)t.team[r]["all"]=1;s=je(t.contest_config),i=s.menu_item,o=s.fgroup,l=(()=>{var t={},a=new URLSearchParams(e.location.search);for(var n in i)a.get(n)?(t[n]=i[n].indexOf(a.get(n)),-1===t[n]&&(t[n]=0)):t[n]=0;return t})(),d=Oe(t.contest_config,e.location.search),m=xe(e.location.search,i.group,o),u=(()=>{var a=ke(t.contest_config,m),n=Ne(t.team,m,e.location.search),r=Ce(t.run,n,d);return{current_contest_config:a,current_team:n,current_run:r}})(),h=u.current_contest_config,p=u.current_team,_=u.current_run,t.setState({contest_config:t.contest_config,team:t.team,run:t.run,current_contest_config:h,current_team:p,current_run:_,timeFlag:d,menu_item:i,fgroup:o,menu_index:l,loaded:!0,filter:"filter"===m}),t.clearTimer(),t.timer=setTimeout((()=>{t.update(e)}),_e);case 26:case"end":return a.stop()}}),a)})))()}componentWillMount(){var e=this;return Object(l["a"])(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.update(e.props);case 2:case"end":return t.stop()}}),t)})))()}componentDidMount(){return Object(l["a"])(c.a.mark((function e(){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}componentWillReceiveProps(e){var t=this;return Object(l["a"])(c.a.mark((function a(){var n,r,s,i;return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if((null===(n=t.props.location)||void 0===n?void 0:n.pathname)===(null===(r=e.location)||void 0===r?void 0:r.pathname)&&(null===(s=t.props.location)||void 0===s?void 0:s.search)===(null===(i=e.location)||void 0===i?void 0:i.search)){a.next=3;break}return a.next=3,t.update(e);case 3:case"end":return a.stop()}}),a)})))()}shouldComponentUpdate(e,t){return!0}componentWillUnmount(){this.clearTimer()}constructor(e){super(e),this.contest_config=null,this.team=null,this.run=null,this.timer=null,this.fetchThrottled=null,this.state={contest_config:{},team:{},run:[],current_contest_config:{},current_team:{},current_run:[],timeFlag:0,loaded:!1,menu_item:{},fgroup:[],menu_index:{type:0,group:0},tab:0,filter:!1},this.fetchThrottled=Object(E["throttle"])(this.fetch,_e)}render(){var e;return Object(_["jsxs"])("div",{className:pe.a.root,children:[!1===this.state.loaded&&Object(_["jsx"])("div",{className:pe.a.loading,children:Object(_["jsx"])(m["a"],{})}),!0===this.state.loaded&&Object(_["jsxs"])(_["Fragment"],{children:[Object(_["jsxs"])("div",{style:{display:"flex"},children:[Object(_["jsx"])("div",{style:{float:"left"},children:Object(_["jsx"])(b,{search:this.props.location.search,history:this.props.history,queryName:"group",siderItem:this.state.menu_item.group,currentItem:this.state.menu_item.group[this.state.menu_index.group]})}),(null===(e=this.state.contest_config)||void 0===e?void 0:e.organization)&&Object(_["jsx"])("div",{style:{flex:"1",maxWidth:"480px"},children:Object(_["jsx"])(ue,{placeholder:[this.state.contest_config.organization,"Filter"].join(" "),search:this.props.location.search,history:this.props.history,queryName:"organization",selectedItem:ye(this.state.team),currentSelected:we(this.props.location.search)})}),Object(_["jsx"])("div",{style:{flex:"1"}}),Object(_["jsx"])("div",{style:{float:"right"},children:Object(_["jsx"])(b,{search:this.props.location.search,history:this.props.history,queryName:"type",siderItem:this.state.menu_item.type.slice().reverse(),currentItem:this.state.menu_item.type[this.state.menu_index.type]})})]}),Object(_["jsxs"])("div",{className:pe.a.body,children:[0===this.state.menu_index.type&&Object(_["jsx"])($,{contest_config:this.state.current_contest_config,team:this.state.current_team,run:this.state.current_run,currentGroup:this.state.menu_index.group,filter:this.state.filter}),1===this.state.menu_index.type&&Object(_["jsx"])(Ye,{contest_config:this.state.current_contest_config,team:this.state.current_team,run:this.state.current_run}),2===this.state.menu_index.type&&Object(_["jsx"])(le,{contest_config:this.state.current_contest_config,team:this.state.current_team,run:this.state.current_run}),3===this.state.menu_index.type&&Object(_["jsx"])(Xe,{contest_config:this.state.current_contest_config,team:this.state.current_team,run:this.state.current_run})]})]})]})}}var tt=e=>{var t=Object(d["l"])(),a=Object(n["useContext"])(i["a"]),r=Object(d["k"])(),s=Object(d["j"])();return Object(_["jsx"])(et,{contestId:parseInt(t.id),contest:a,location:r,history:s})},at=tt,nt=e=>Object(_["jsxs"])(_["Fragment"],{children:[Object(_["jsx"])(s["a"],{children:Object(_["jsx"])("meta",{name:"viewport",content:"width=1560 initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes"})}),Object(_["jsx"])(i["b"],{current:"standings",maxBodyWidth:"1560px",children:Object(_["jsx"])(at,{})})]});t["default"]=nt},JyZf:function(e,t,a){e.exports={standings:"standings___1JOe9",loading:"loading___3MeVY",head:"head___34VdB",team:"team___2LYv0",stnd:"stnd___3I0Fv",stndact:"stndact___14cNq",frost:"frost___2mdK0",gold:"gold___1ooRF",goldact:"goldact___2zxXA",silver:"silver___yvNKn",silveract:"silveract___scYc5",bronze:"bronze___1Nec7",bronzeact:"bronzeact___3pMTx",unofficial:"unofficial___1c-LY",honorable:"honorable___3TaFt",firstsolve:"firstsolve___1AvrG",incorrect:"incorrect___3-yDo",correct:"correct___NaSN1",unattempted:"unattempted___TOLlB",success:"success___3el5M",title:"title___3epRx",tried:"tried___2lMfg",pending:"pending___3DEZI",upsolved:"upsolved___IqD5M",virtual:"virtual___3fEto",alive:"alive____JRHL",empty:"empty___1O0_X",o01:"o01___Fo5rS",solver:"solver___138fj","statistics-0":"statistics-0___bjShs","statistics-1":"statistics-1___267wJ",o00:"o00___2Vqai",stand0:"stand0___JQIXU",stand1:"stand1___2NRv6",stand10:"stand10___1C5P7",stand11:"stand11___1DZ5V",filter:"filter___1j7wq",cfres01:"cfres01___1m6xk",rotatedName:"rotatedName___2uCzt",matches:"matches___3IKBm",match:"match___1M-BN",coderTextRed:"coderTextRed___3hlwp",coderTextYellow:"coderTextYellow___GVYfR",coderTextViolet:"coderTextViolet___aveqO",coderTextBlue:"coderTextBlue___1wwPO",coderTextGreen:"coderTextGreen___2RjIA",coderTextGray:"coderTextGray____G57h",coderTextOrange:"coderTextOrange___3s0a6",coderTextWhite:"coderTextWhite___1oCdD",coderTextBlack:"coderTextBlack___13sDV",announce:"announce___bgGa5",nmessage:"nmessage___2dLQ4",topmenu:"topmenu___13hHs",menuleft:"menuleft___3vUTd",newsselectcontainer:"newsselectcontainer___3fTYt",newsselectbtn:"newsselectbtn___3U1br",menuleftblock:"menuleftblock___25sVr",memorial:"memorial___U_bp-",menu:"menu___13J7_",left:"left___3Q95N",sub1:"sub1___3Nbsy",sub2:"sub2___3XSiF",lmenu:"lmenu___3Tajh"}},LOQL:function(e,t,a){e.exports={btn:"btn___1i9R9"}},Mna0:function(e,t,a){e.exports={"star-btn":"star-btn___3y-g2","octicon-star":"octicon-star___F_v3V"}},dOJQ:function(e,t,a){e.exports={root:"root___1phCZ",loading:"loading___10JXd",body:"body___2in4U"}},sabr:function(e,t,a){e.exports={loading:"loading___gT-Dk"}},u9AC:function(e,t,a){e.exports={"second-level-menu-list":"second-level-menu-list___3mgCo","second-level-menu-item":"second-level-menu-item___2Gshl","second-level-menu-item-current":"second-level-menu-item-current___ZUBZg"}},yeqW:function(e,t,a){e.exports={table:"table___167Jq"}}}]);