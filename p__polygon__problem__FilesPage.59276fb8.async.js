(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[52],{"0ieP":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"d",(function(){return i})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return o})),r.d(t,"e",(function(){return c}));var n=r("nKUr"),a=()=>Object(n["jsx"])("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 496 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(n["jsx"])("path",{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})}),i=()=>Object(n["jsx"])("svg",{viewBox:"0 0 1025 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"currentColor","p-id":"1198",strokeWidth:"0",width:"1em",height:"1em",children:Object(n["jsx"])("path",{d:"M879.243325 586.810341c-16.32354-43.266438-79.320268-141.551527-80.064248-190.941723l-0.374548 0c0.125873-2.627976 0.374548-5.253906 0.374548-7.876766 0-179.445349-128.665437-324.870276-287.365328-324.870276-158.764362 0-287.368398 145.424926-287.368398 324.870276 0 2.62286 0.251745 5.248789 0.312123 7.876766l-0.312123 0c-0.742956 49.39122-63.677259 147.675285-80.063224 190.941723-16.386988 43.391287-20.484503 87.1561-12.911674 121.921525 7.572829 34.63546 13.778456 56.144341 20.978783 62.896439 7.137903 6.876948 13.964706 14.13049 35.628114-1.125691 17.376573-14.381212 36.368-43.640986 36.368-43.640986s15.70441 45.3899 50.769679 80.030477c-27.496533 13.002752-67.278447 41.890025-70.133608 60.77093-2.731335 18.759126 41.707868 90.158624 146.102387 91.783712 104.396566 1.500239 139.090357-43.64201 142.50734-47.143931 9.742342-10.252997 18.121575-16.503651 18.121575-16.503651s8.440634 6.250654 18.123622 16.503651c3.410843 3.501922 38.105657 48.64417 142.503247 47.143931 104.392473-1.626112 148.832699-73.024587 146.040986-91.783712-2.794783-18.880905-42.639121-47.768178-70.07323-60.77093 35.002844-34.640576 50.770702-80.030477 50.770702-80.030477s18.992451 29.259774 36.372094 43.640986c21.597913 15.255157 28.423693 8.001615 35.622998 1.125691 7.201351-6.752098 13.3466-28.26098 20.978783-62.896439C899.725781 673.966441 895.569935 630.201629 879.243325 586.810341z","p-id":"1199"})}),s=(r("q1tI"),e=>Object(n["jsx"])("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3441",width:"16",height:"16",children:Object(n["jsx"])("path",{d:"M512.335761 254.730044c102.930418 0 186.859667-56.819386 186.859667-126.757785C699.195428 58.0363 615.271057 1.219352 512.335761 1.219352c-102.925541 0-186.851132 56.819386-186.851132 126.752907C325.489506 197.904562 409.415097 254.730044 512.335761 254.730044L512.335761 254.730044zM846.457844 693.99567l-76.005897-146.417404-104.510699-203.241668c-3.171536-5.467576-11.085133-8.741538-19.004827-8.741538L379.321479 335.595061c-7.909939 0-15.833292 3.278839-18.99995 8.741538L287.48229 484.201203 178.223433 693.999328c-11.090011 21.858112-9.503633 42.617588 6.328439 57.914364 15.841827 15.296777 42.760252 22.948213 77.587397 22.948213l99.76376 0 0 249.138094 0 0 39.589936 0 220.110189 0 39.589936 0 0-27.311056L661.19309 774.861906l98.172505 0c34.8369 0 61.754105-8.741538 77.587397-22.948213C854.376319 736.608381 857.542977 715.853782 846.457844 693.99567L846.457844 693.99567z","p-id":"3442"})})),o=e=>Object(n["jsx"])("svg",{height:"16",viewBox:"0 0 16 16",version:"1.1",width:"16","aria-hidden":"true",children:Object(n["jsx"])("path",{fillRule:"evenodd",d:"M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25z"})}),c=e=>Object(n["jsx"])("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6192",width:"16",height:"16",children:Object(n["jsx"])("path",{d:"M804.43 413.285l-258.228 98.715 258.14 98.715c65.75 25.363 103.75 45.601 113.914 60.801 10.074 15.201 15.201 30.401 15.201 45.601 0 40.563-7.687 63.364-23.067 68.314-15.289 5.125-30.667 7.599-45.955 7.599-15.466 0-30.754-3.801-46.043-11.399-15.377-7.599-33.228-18.999-53.644-34.201l-237.461-212.628 53.731 318.941c5.037 15.201 7.599 29.164 7.599 41.801 0 12.725 0 21.562 0 26.601 0 30.401-7.599 51.964-22.976 64.513-15.377 12.725-33.228 18.999-53.644 18.999-15.643 0-32.522-5.037-50.814-15.201-18.293-10.074-27.307-32.875-27.307-68.314 0-10.074 1.326-20.238 3.889-30.401 2.652-10.074 3.889-22.8 3.889-38.001l62.391-318.941-241.968 212.628c-15.643 10.162-32.522 20.238-50.814 30.401s-35.085 15.201-50.639 15.201c-15.643 0-31.197-5.037-46.837-15.201-15.643-10.074-23.419-30.401-23.419-60.801 0-20.238 7.599-38.001 22.8-53.201s50.55-32.875 106.314-53.201l258.405-98.626-258.228-98.715c-35.438-15.201-65.84-29.075-91.114-41.801-25.363-12.637-38.001-34.201-38.001-64.513 0-25.275 7.599-44.275 22.889-57.001 15.377-12.548 30.578-18.999 46.043-18.999 15.289 0 31.902 3.801 49.842 11.399 17.764 7.599 34.377 18.999 49.842 34.201l237.549 212.628-53.644-318.941c0-15.201-1.326-27.749-3.889-38.001-2.652-10.074-3.801-20.238-3.801-30.401 0-20.238 7.599-39.15 22.976-57.001 15.377-17.586 33.317-26.511 53.644-26.511 31.283 0 51.877 10.162 62.481 30.401 10.339 20.238 15.643 38.001 15.643 53.201 0 10.162 0 21.562 0 34.201 0 12.725-2.652 24.037-7.866 34.201l-62.391 318.852 241.879-212.628c20.769-20.238 38.883-32.875 54.615-38.001 15.643-5.037 31.197-7.599 46.837-7.599 20.769 0 37.648 7.599 50.639 22.8s19.708 32.963 19.708 53.201c0 20.238-5.125 36.763-15.201 49.402-10.252 12.637-48.163 31.637-113.914 56.913z","p-id":"6193"})})},1:function(e,t){},"7Cbv":function(e,t,r){"use strict";var n,a=new Uint8Array(16);function i(){if(!n&&(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(a)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function o(e){return"string"===typeof e&&s.test(e)}for(var c=o,l=[],u=0;u<256;++u)l.push((u+256).toString(16).substr(1));function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!c(r))throw TypeError("Stringified UUID is invalid");return r}var p=d;function m(e,t,r){e=e||{};var n=e.random||(e.rng||i)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var a=0;a<16;++a)t[r+a]=n[a];return t}return p(n)}t["a"]=m},"8tQ+":function(e,t,r){e.exports={footer:"footer___3EQLU",name:"name___1AcRw",version:"version___3owxy",github:"github___2s1sl"}},"8zzM":function(e,t,r){"use strict";r("14J3");var n=r("BMrR"),a=(r("jCWc"),r("kPKH")),i=(r("1YHl"),r("VNzZ")),s=r("q1tI"),o=r("7AqN"),c=r("9kvl"),l=r("ASxD"),u=r("UoRl"),d=r("Urjs"),p=r("aJ/M"),m=r.n(p),f=r("nKUr");function b(e){var t=t=>"/polygon/problem/".concat(t,"/").concat(e),r=[{id:"dashboard",name:"Dashboard",link:t("dashboard")},{id:"judge-info",name:"Judge Info",link:t("judge-info")},{id:"statement",name:"Statement",link:t("statement")},{id:"files",name:"Files",link:t("files")}];return r}var h=e=>{var t=Object(o["l"])(),r=Object(d["d"])(0,768),p=Object(c["d"])("@@initialState"),h=(p.initialState,p.loading),j=Object(d["a"])(),g=j.getToken,v=Object(d["c"])();return Object(s["useEffect"])((()=>{!1===h&&""===g()&&v()}),[h]),Object(f["jsx"])(f["Fragment"],{children:Object(f["jsx"])(u["a"],{current:"problem",children:Object(f["jsx"])("div",{className:m.a.root,children:Object(f["jsxs"])(n["a"],{gutter:16,align:"top",children:[Object(f["jsxs"])(a["a"],{xs:24,sm:24,md:4,lg:3,xl:3,children:[r&&Object(f["jsx"])(l["a"],{current:e.current,menuItemList:b(parseInt(t.id)),direction:"left"}),!r&&Object(f["jsx"])(i["a"],{offsetTop:10,children:Object(f["jsx"])(l["a"],{current:e.current,menuItemList:b(parseInt(t.id)),direction:"left"})})]}),Object(f["jsx"])(a["a"],{xs:24,sm:24,md:20,lg:21,xl:21,children:e.children})]})})})})};t["a"]=h},"9rVn":function(e,t,r){"use strict";const n=r(1),a=/\s+at.*(?:\(|\s)(.*)\)?/,i=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,s="undefined"===typeof n.homedir?"":n.homedir();e.exports=(e,t)=>(t=Object.assign({pretty:!1},t),e.replace(/\\/g,"/").split("\n").filter((e=>{const t=e.match(a);if(null===t||!t[1])return!0;const r=t[1];return!r.includes(".app/Contents/Resources/electron.asar")&&!r.includes(".app/Contents/Resources/default_app.asar")&&!i.test(r)})).filter((e=>""!==e.trim())).map((e=>t.pretty?e.replace(a,((e,t)=>e.replace(t,t.replace(s,"~")))):e)).join("\n"))},ASxD:function(e,t,r){"use strict";r("q1tI");var n=r("9kvl"),a=r("c4wU"),i=r.n(a),s=r("nKUr"),o=e=>Object(s["jsx"])("div",{className:i.a["m-menu"],children:e.menuItemList.map(((t,r)=>Object(s["jsx"])("div",{className:[i.a["m-menu-item"],i.a[e.direction],e.current===t.id?i.a["active"]:""].join(" "),onClick:()=>{n["b"].push(t.link)},children:t.name},r.toString())))});t["a"]=o},Ompe:function(e,t,r){e.exports={root:"root___21nYG",secondRoot:"secondRoot___3wd9w",main:"main___365u0","h-header":"h-header___1KqGj"}},Pv7b:function(e,t,r){"use strict";const n=r("dqDI");e.exports=(e,t)=>n(e,(e=>e()),t)},S6im:function(e,t,r){"use strict";e.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},"string"!==typeof e)throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!==typeof t)throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!==typeof r.indent)throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(0===t)return e;const n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}},UoRl:function(e,t,r){"use strict";var n=r("9kvl"),a=r("q1tI"),i=r("b2pr"),s=r("Qb08"),o=r("Ompe"),c=r.n(o),l=r("Urjs"),u=r("nKUr");function d(e,t){var r="";return t.forEach((t=>{r+='<li class="'.concat(e===t.id?"am-active":"",'"><a href="').concat(t.link,'">').concat(t.name,"</a></li>")})),r}function p(e,t){var r="";r+='<li class="am-dropdown" data-am-dropdown>',r+="\n  <a class='am-dropdown-toggle' data-am-dropdown-toggle href='javascript:;'>\n  <span class='am-icon-user'></span>&nbsp;".concat(t,"&nbsp;<span class='am-icon-caret-down'></span>\n  </a>"),r+='<ul class="am-dropdown-content">';for(var n=0;n<e.length;++n)e[n].forEach((e=>{r+='<li><a href="'.concat(e.link,'">').concat(e.name,"</a></li>")})),n<e.length-1&&(r+='<li class="am-divider"></li>');return r+="</ul>",r+="</li>",r}function m(e,t,r){var n=[{id:"problem",name:"Problem",link:"/polygon/problem"}],a=[[{id:"back_oj",name:"Back OJ",link:"/"}]];return{__html:'\n    <header class="am-topbar-inverse am-topbar-fixed-toped" style="font-size: 16px; margin-top: 0px;">\n    <button class="am-topbar-btn am-topbar-toggle am-btn am-btn-sm am-btn-primary am-show-sm-only"\n      data-am-collapse="{target: \'#collapse-head\'}">\n      <span class="am-sr-only">\u5bfc\u822a\u5207\u6362</span>\n      <span class="am-icon-bars"></span>\n    </button>\n    <div class="am-container '.concat(c.a["h-header"],'">\n      <h1 class="am-topbar-brand">\n        <a href="/polygon" >').concat(e,'</a>\n      </h1>\n      <div class="am-collapse am-topbar-collapse" id="collapse-head">\n        <ul class="am-nav am-nav-pills am-topbar-nav">\n          ').concat(d(t,n),'\n        </ul>\n        <div class="am-topbar-right" style="padding-right: 0px;">\n          <ul class="am-nav am-nav-pills am-topbar-nav">\n          ').concat(p(a,r),"\n          </ul>\n        </div>\n      </div>\n    </div>\n  </header>\n    ")}}var f=e=>Object(u["jsx"])("div",{dangerouslySetInnerHTML:m("Polygon",e.current,e.username)}),b=e=>{var t,r=Object(n["d"])("@@initialState"),o=r.initialState,d=r.loading,p=Object(l["a"])(),m=p.getToken,b=Object(l["c"])();return Object(a["useEffect"])((()=>{!1===d&&""===m()&&b()}),[d]),Object(a["useEffect"])((()=>{window.$(".am-dropdown").dropdown()})),Object(u["jsxs"])(u["Fragment"],{children:[!0===d&&Object(u["jsx"])("div",{style:{height:"calc(100vh)",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(u["jsx"])(s["b"],{})}),!1===d&&Object(u["jsxs"])(u["Fragment"],{children:[Object(u["jsx"])(f,{current:e.current,username:null===o||void 0===o||null===(t=o.userMeta)||void 0===t?void 0:t.username}),Object(u["jsx"])("div",{className:c.a.root,style:{maxWidth:e.maxWidth?e.maxWidth:""},children:Object(u["jsxs"])("div",{className:c.a.secondRoot,children:[Object(u["jsx"])("div",{className:c.a.main,children:e.children}),Object(u["jsx"])(i["a"],{})]})})]})]})};t["a"]=b},"aJ/M":function(e,t,r){e.exports={root:"root___3gdoE"}},aN5g:function(e,t,r){"use strict";r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"e",(function(){return l}));var n=r("+QwO"),a=r.n(n);function i(e){return/^[a-zA-Z0-9\-_.#$]{3,24}$/.test(e)}function s(e){return e.length>=6&&e.length<=32}function o(e){return a.a.isEmail(e)}function c(e){var t=["/","\0"],r=[".",".."];return t.every((t=>-1===e.indexOf(t)))&&!r.includes(e)}function l(e){return e.replace(/[^\d]/g,"")}},b2pr:function(e,t,r){"use strict";var n=r("WmNS"),a=r.n(n),i=r("9og8"),s=r("tJVT"),o=r("8tQ+"),c=r.n(o),l=r("kiQV"),u=r("0ieP"),d=r("q1tI"),p=r("f133"),m=r("nKUr"),f=e=>{var t=Object(d["useState"])("Loading"),r=Object(s["a"])(t,2),n=r[0],o=r[1];function f(){return b.apply(this,arguments)}function b(){return b=Object(i["a"])(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["c"].app.getVersion();case 2:t=e.sent,t.requestError,r=t.response,r&&o(r.version);case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return Object(d["useEffect"])((()=>{f()}),[]),Object(m["jsxs"])("footer",{className:c.a.footer,children:[Object(m["jsx"])("div",{className:c.a.name,children:"Hangzhou Normal U Online Judge V3"}),Object(m["jsxs"])("div",{className:c.a.version,children:["WebApp: ",l.version," | API: ",n]}),Object(m["jsx"])("div",{className:c.a.icon,children:Object(m["jsx"])("a",{className:c.a.github,title:"GitHub",target:"_blank",rel:"noreferrer noopener",href:"https://github.com/HZNU-OJ/HZNUOJ",children:Object(m["jsx"])(u["b"],{})})})]})};t["a"]=f},c4wU:function(e,t,r){e.exports={"m-menu":"m-menu___2hTVT","m-menu-item":"m-menu-item___31LxL",left:"left___2LY0w",right:"right___2AFVv",active:"active___EP5rv"}},dqDI:function(e,t,r){"use strict";const n=r("xh2E");e.exports=async(e,t,{concurrency:r=1/0,stopOnError:a=!0}={})=>new Promise(((i,s)=>{if("function"!==typeof t)throw new TypeError("Mapper function is required");if(!Number.isSafeInteger(r)&&r!==1/0||!(r>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${r}\` (${typeof r})`);const o=[],c=[],l=e[Symbol.iterator]();let u=!1,d=!1,p=0,m=0;const f=()=>{if(u)return;const e=l.next(),r=m;if(m++,e.done)return d=!0,void(0===p&&(a||0===c.length?i(o):s(new n(c))));p++,(async()=>{try{const n=await e.value;o[r]=await t(n,r),p--,f()}catch(n){a?(u=!0,s(n)):(c.push(n),p--,f())}})()};for(let e=0;e<r;e++)if(f(),d)break}))},hfhV:function(e,t,r){"use strict";function n(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=["K","M","G","T"],n="B",a=0,i=r;a<i.length;a++){var s=i[a];e>1024&&(e/=1024,n=s)}var o=e===Math.round(e)?e.toString():e.toFixed(t);return o+" "+n}r.d(t,"a",(function(){return n}))},iNQ3:function(e,t,r){"use strict";r.r(t);var n=r("q1tI"),a=r("7AqN"),i=r("8zzM"),s=r("rAM+"),o=r("WmNS"),c=r.n(o),l=(r("miYZ"),r("tsqr")),u=(r("g9YV"),r("wCAj")),d=(r("14J3"),r("BMrR")),p=(r("+L6B"),r("2/Rp")),m=(r("jCWc"),r("kPKH")),f=(r("DYRE"),r("zeV3")),b=r("k1fw"),h=r("9og8"),j=r("tJVT"),g=r("dF/Y"),v=r("/MfK"),y=r("z7Xi"),x=r("yeqW"),w=r.n(x),O=r("Urjs");function k(e,t){var r=document.createElement("input");r.accept=t,r.type="file",r.multiple=!0,r.onchange=()=>e(Array.from(r.files)),r.click()}var _=r("aN5g"),E=r("rqeN"),z=r("7Cbv"),U=r("hfhV"),I=r("vDqi"),T=r.n(I);function S(e,t,r,n,a,i){return C.apply(this,arguments)}function C(){return C=Object(h["a"])(c.a.mark((function e(t,r,n,a,i,s){var o,l,u,d,p,m,f;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i&&i({status:"Requesting",progress:0}),e.next=3,t(Object(b["a"])(Object(b["a"])({},r),{},{uploadInfo:a?{size:a.size,uuid:null}:null}),n());case 3:if(o=e.sent,!o.requestError){e.next=6;break}return e.abrupt("return",o);case 6:if(!o.response.signedUploadRequest){e.next=38;break}if(m=function(e){i&&setTimeout((()=>{p||i({status:"Uploading",progress:e.loaded/e.total})}),0)},l=T.a.CancelToken.source(),u=!1,d=()=>{u||(u=!0,l.cancel())},s&&s(d),p=!1,e.prev=13,"PUT"!==o.response.signedUploadRequest.method){e.next=19;break}return e.next=17,T.a.put(o.response.signedUploadRequest.url,a,{cancelToken:l.token,onUploadProgress:m});case 17:e.next=24;break;case 19:return f=new FormData,Object.entries(o.response.signedUploadRequest.extraFormData).forEach((e=>{var t=Object(j["a"])(e,2),r=t[0],n=t[1];return f.append(r,n)})),f.append(o.response.signedUploadRequest.fileFieldName,a),e.next=24,T.a.post(o.response.signedUploadRequest.url,f,{cancelToken:l.token,onUploadProgress:m});case 24:e.next=32;break;case 26:if(e.prev=26,e.t0=e["catch"](13),p=!0,!u){e.next=31;break}return e.abrupt("return",{uploadCancelled:!0});case 31:return e.abrupt("return",{uploadError:e.t0});case 32:return i&&i({status:"Requesting",progress:0}),e.next=35,t(Object(b["a"])(Object(b["a"])({},r),{},{uploadInfo:{size:a.size,uuid:o.response.signedUploadRequest.uuid}}),n());case 35:return e.abrupt("return",e.sent);case 38:return e.abrupt("return",o);case 39:case"end":return e.stop()}}),e,null,[[13,26]])}))),C.apply(this,arguments)}var N,q=r("Pv7b"),A=r.n(q),F=r("f133"),R=r("nKUr"),P=5,M={Waiting:"#3e90cc",Hashing:"#3e90cc",Uploading:"#73d13d",Requesting:"#b7eb8f",Error:"#ff4d4f",Cancelled:"#ffd6e7"};function L(e){switch(e){case"TestData":return"testData";case"AdditionalFile":return"additionalFiles"}}(function(e){e["filename"]="File Name",e["size"]="Size",e["action"]="Action"})(N||(N={}));var V=e=>{var t=Object(O["b"])(),r=Object(n["useState"])([]),a=Object(j["a"])(r,2),i=a[0],o=a[1],x=Object(n["useState"])(!1),I=Object(j["a"])(x,2),T=I[0],C=I[1];function q(){return V.apply(this,arguments)}function V(){return V=Object(h["a"])(c.a.mark((function t(){var r,n,a,i;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F["c"].problem.getProblem({id:e.id,testData:"TestData"===e.type,additionalFiles:"AdditionalFile"===e.type,permissionOfCurrentUser:!0});case 2:return r=t.sent,n=r.requestError,a=r.response,n?l["default"].error(n):a.error?l["default"].error(a.error):(i=[],a[L(e.type)].forEach((e=>{i.push({uuid:e.uuid,filename:e.filename,size:e.size,action:{filename:e.filename}})})),o(i)),C(!0),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)}))),V.apply(this,arguments)}function D(e){return J.apply(this,arguments)}function J(){return J=Object(h["a"])(c.a.mark((function t(r){var n,a,i;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",l["default"].error("NO_SUCH_FILE"));case 2:return t.next=4,F["c"].problem.downloadProblemFiles({problemId:e.id,type:e.type,filenameList:[r]});case 4:if(n=t.sent,a=n.requestError,i=n.response,!a){t.next=11;break}return t.abrupt("return",l["default"].error(a));case 11:if(0!==i.downloadInfo.length){t.next=13;break}return t.abrupt("return",l["default"].error("NO_SUCH_FILE"));case 13:Object(E["a"])(i.downloadInfo[0].downloadUrl);case 14:case"end":return t.stop()}}),t)}))),J.apply(this,arguments)}function W(e){return H.apply(this,arguments)}function H(){return H=Object(h["a"])(c.a.mark((function t(r){var n,a,i;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F["c"].problem.removeProblemFiles({problemId:e.id,type:e.type,filenames:r});case 2:if(n=t.sent,a=n.requestError,i=n.response,!a){t.next=8;break}return l["default"].error(a),t.abrupt("return");case 8:if(!i.error){t.next=11;break}return l["default"].error(i.error),t.abrupt("return");case 11:l["default"].success("deleted successfully"),q();case 13:case"end":return t.stop()}}),t)}))),H.apply(this,arguments)}function K(e){return B.apply(this,arguments)}function B(){return B=Object(h["a"])(c.a.mark((function r(n){var a,l,u,d,p,m,f,b,j,g,v;return c.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:f=function(e,t){o((r=>{var n=Array.from(r);for(var a in n)if(n[a].uuid===e)return n[a]=Object.assign({},r[a],{action:Object.assign({},r[a].action,{upload:t?Object.assign({},r[a].action.upload,t):null})}),n;return r}))},a=n.map((e=>e.name)),l=[],u=Object(s["a"])(n);try{for(u.s();!(d=u.n()).done;)p=d.value,l.push({uuid:Object(z["a"])(),filename:p.name,size:p.size,action:{filename:p.name,upload:{file:p,progressType:"Waiting"}}})}catch(y){u.e(y)}finally{u.f()}for(m=i.filter((e=>!a.includes(e.filename))).concat(l),o(m),b=[],j=function(){var r=v[g];b.push(Object(h["a"])(c.a.mark((function n(){var a,i,s,o,l;return c.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,S(F["c"].problem.addProblemFile,{problemId:e.id,type:e.type,filename:r.filename},(()=>t("AddProblemFile")),r.action.upload.file,(e=>f(r.uuid,{progressType:e.status,progress:100*e.progress})),(e=>f(r.uuid,{cancel:e})));case 2:a=n.sent,i=a.uploadCancelled,s=a.uploadError,o=a.requestError,l=a.response,i?f(r.uuid,{progressType:"Cancelled",cancel:null}):s?(console.log("Error uploading file",s),f(r.uuid,{progressType:"Error",error:String(s)})):o?f(r.uuid,{progressType:"Error",error:o}):l.error?f(r.uuid,{progressType:"Error",error:l.error}):f(r.uuid,null);case 8:case"end":return n.stop()}}),n)}))))},g=0,v=l;g<v.length;g++)j();return r.next=12,A()(b,{concurrency:P});case 12:case"end":return r.stop()}}),r)}))),B.apply(this,arguments)}function Q(){return $.apply(this,arguments)}function $(){return $=Object(h["a"])(c.a.mark((function e(){var t;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.filter((e=>{var t,r,n;return(null===(t=e.action)||void 0===t?void 0:t.upload)&&"Error"!==(null===(r=e.action.upload)||void 0===r?void 0:r.progressType)&&"Cancelled"!==(null===(n=e.action)||void 0===n?void 0:n.upload.progressType)})).length,!t){e.next=4;break}return l["default"].warning("Please wait for the current file upload to complete!"),e.abrupt("return");case 4:k((e=>{e.some((e=>!Object(_["b"])(e.name)))?l["default"].error("Invalid Filename"):K(e)}));case 5:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}Object(n["useEffect"])((()=>{q()}),[]);var Z=[Object(b["a"])({title:N.filename,dataIndex:"filename",key:"filename",width:"60%",align:"left"},Object(O["f"])("filename",N.filename)),{title:N.size,dataIndex:"size",key:"size",width:"20%",align:"left",sorter:(e,t)=>e.size-t.size,render:e=>Object(U["a"])(e,2)},{title:N.action,dataIndex:"action",key:"action",width:"20%",align:"left",render:e=>{var t;return(null===(t=e.upload)||void 0===t?void 0:t.progressType)?Object(R["jsx"])("div",{style:{color:M[e.upload.progressType]},children:e.upload.progressType}):Object(R["jsx"])(R["Fragment"],{children:Object(R["jsxs"])(f["b"],{size:"middle",children:[Object(R["jsx"])("div",{style:{cursor:"pointer",color:"#3e90cc"},onClick:()=>{D(e.filename)},children:Object(R["jsx"])(g["a"],{})}),Object(R["jsx"])("div",{style:{cursor:"pointer",color:"#3e90cc"},onClick:()=>{W([e.filename])},children:Object(R["jsx"])(v["a"],{})})]})})}}];return Object(R["jsxs"])(R["Fragment"],{children:[Object(R["jsx"])("div",{children:Object(R["jsxs"])(d["a"],{gutter:16,align:"top",children:[Object(R["jsx"])(m["a"],{md:12,children:Object(R["jsx"])("div",{style:{textAlign:"left"},children:Object(R["jsx"])("h1",{children:e.name})})}),Object(R["jsx"])(m["a"],{md:12,children:Object(R["jsx"])("div",{style:{textAlign:"right"},children:Object(R["jsx"])(p["a"],{type:"primary",icon:Object(R["jsx"])(y["a"],{}),size:"middle",onClick:Q,children:"Upload File"})})})]})}),Object(R["jsx"])("div",{style:{fontWeight:"bold"},children:Object(R["jsx"])(u["a"],{size:"small",sticky:!0,columns:Z,dataSource:i,className:w.a.table,rowKey:e=>e.uuid,loading:!T,pagination:{hideOnSinglePage:!0,showQuickJumper:!0,showSizeChanger:!0,defaultPageSize:8,pageSizeOptions:["8","16","32","64","128","256"]}})})]})},D=V,J=r("iPsy"),W=r.n(J),H=e=>{var t=Object(a["l"])();return Object(R["jsx"])(R["Fragment"],{children:Object(R["jsxs"])(i["a"],{current:"files",children:[Object(R["jsx"])("div",{children:Object(R["jsx"])(D,{id:parseInt(t.id),name:"Test Data",type:"TestData"})}),Object(R["jsx"])("div",{className:W.a.additionalFiles,children:Object(R["jsx"])(D,{id:parseInt(t.id),name:"Additional Files",type:"AdditionalFile"})})]})})};t["default"]=H},iPsy:function(e,t,r){e.exports={additionalFiles:"additionalFiles___3k_WF"}},kiQV:function(e){e.exports=JSON.parse('{"name":"hznuoj-v3-webapp","version":"0.0.74.8","description":"The WebApp of HZNUOJ V3","repository":"https://github.com/HZNU-OJ/HZNUOJ-V3-WebApp","author":"Dup4","license":"MIT","scripts":{"start":"cross-env umi dev","start:no-mock":"cross-env MOCK=none umi dev","start:no-ui":"cross-env UMI_UI=none umi dev","build":"cross-env NODE_OPTIONS=--max-old-space-size=4096 umi build","generate-api":"node scripts/generate-api.js http://localhost:3000/api/docs-json","postinstall":"umi generate tmp","prettier":"prettier --write \'src/**/*.{js,jsx,tsx,less,md,json}\' && prettier --write --parser=typescript \'src/**/*.ts?(x)\'","test":"umi-test","test:coverage":"umi-test --coverage"},"gitHooks":{"pre-commit":"lint-staged"},"lint-staged":{"*.{js,jsx,less,md,json}":["prettier --write"],"*.ts?(x)":["prettier --parser=typescript --write"]},"dependencies":{"@ahooksjs/use-url-state":"^2.5.6","@ant-design/pro-layout":"^6.5.0","@fortawesome/fontawesome-svg-core":"^1.2.35","@fortawesome/free-solid-svg-icons":"^5.15.3","@fortawesome/react-fontawesome":"^0.1.14","@hackmd/markdown-it-task-lists":"^2.1.1","@types/array-move":"^2.0.0","@types/react-dnd":"^3.0.2","@types/react-sortable-hoc":"^0.7.1","@types/validator":"^13.1.3","@umijs/preset-react":"1.x","ansi_up":"^5.0.0","antd":"^4.12.3","array-move":"^3.0.1","axios":"^0.21.1","blueimp-md5":"^2.18.0","class-validator":"^0.13.1","css-element-queries":"^1.2.3","dayjs":"^1.10.4","highcharts":"^9.0.1","highcharts-react-official":"^3.0.0","immutability-helper":"^3.1.1","markdown-it":"^12.0.4","markdown-it-container":"^3.0.0","markdown-it-math-loose":"^4.1.1","markdown-it-mentions":"^1.0.0","markdown-it-merge-cells":"^1.0.1","markdown-it-toc-and-anchor":"^4.2.0","mathjax-full":"^3.1.2","monaco-editor-webpack-plugin":"^3.0.0","p-all":"^3.0.0","prismjs":"^1.23.0","react-calendar-heatmap":"^1.8.1","react-dnd":"^14.0.2","react-dnd-html5-backend":"^14.0.0","react-google-recaptcha-v3":"^1.8.0","react-highlight-words":"^0.17.0","react-monaco-editor":"^0.42.0","react-sortable-hoc":"^2.0.0","react-tooltip":"^4.2.15","twemoji":"^13.0.1","umi":"^3.3.7","uuid":"^8.3.2","validator":"^13.5.2","xss":"^1.0.8"},"devDependencies":{"@types/blueimp-md5":"^2.7.0","@types/immutability-helper":"^2.6.3","@types/markdown-it":"^12.0.1","@types/markdown-it-container":"^2.0.3","@types/prismjs":"^1.16.3","@types/react":"^17.0.3","@types/react-calendar-heatmap":"^1.6.2","@types/react-dnd-html5-backend":"^3.0.2","@types/react-dom":"^16.9.0","@types/react-tooltip":"^4.2.4","@types/uuid":"^8.3.0","@umijs/preset-ui":"^2.2.9","@umijs/test":"^3.3.7","babel-plugin-import":"^1.13.3","babel-plugin-prismjs":"^2.0.1","cross-env":"^7.0.3","dtsgenerator":"2.7.0","lint-staged":"^10.0.7","prettier":"^2.2.0","react":"17.x","react-dom":"17.x","typescript":"^4.1.2","yorkie":"^2.0.0"},"engines":{"node":">=14.15.5"}}')},"rAM+":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("Qw5x");function a(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=Object(n["a"])(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==r["return"]||r["return"]()}finally{if(c)throw s}}}}},rqeN:function(e,t,r){"use strict";function n(e){var t=document.createElement("a");t.target="_blank",t.href=e,t.download="",t.click()}r.d(t,"a",(function(){return n}))},xh2E:function(e,t,r){"use strict";const n=r("S6im"),a=r("9rVn"),i=e=>e.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,"");class s extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);e=[...e].map((e=>e instanceof Error?e:null!==e&&"object"===typeof e?Object.assign(new Error(e.message),e):new Error(e)));let t=e.map((e=>"string"===typeof e.stack?i(a(e.stack)):String(e))).join("\n");t="\n"+n(t,4),super(t),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(const e of this._errors)yield e}}e.exports=s},yeqW:function(e,t,r){e.exports={table:"table___167Jq"}}}]);